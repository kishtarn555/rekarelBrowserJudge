!function(){"use strict";let selectedDirectoryHandle=null;var kareljava=function(){var o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,5],$V1=[4,16],$V2=[1,19],$V3=[1,20],$V4=[1,21],$V5=[5,28,29,30],$V6=[1,29],$V7=[8,9,18,27,53,54,55,56,57],$V8=[1,39],$V9=[6,11,18,19,32,33,34,35,36,37,38,44,47,50,51],$Va=[9,27],$Vb=[1,71],$Vc=[1,58],$Vd=[1,59],$Ve=[1,60],$Vf=[1,61],$Vg=[1,62],$Vh=[1,63],$Vi=[1,64],$Vj=[1,72],$Vk=[1,74],$Vl=[1,75],$Vm=[1,76],$Vn=[6,11,18,19,32,33,34,35,36,37,38,44,47,49,50,51],$Vo=[1,93],$Vp=[1,95],$Vq=[1,96],$Vr=[1,101],$Vs=[1,102],$Vt=[1,103],$Vu=[1,104],$Vv=[1,105],$Vw=[1,106],$Vx=[1,107],$Vy=[1,108],$Vz=[1,109],$VA=[1,110],$VB=[1,111],$VC=[1,112],$VD=[1,113],$VE=[1,114],$VF=[1,115],$VG=[1,116],$VH=[1,117],$VI=[1,118],$VJ=[1,120],$VK=[1,121],$VL=[1,122],$VM=[1,123],$VN=[1,136],$VO=[1,137],$VP=[1,138],$VQ=[1,139],$VR=[1,140],$VS=[1,141],$VT=[9,18,27,53,54,55,56,57],$VU=[9,18,27,53,54],$VV=[9,18,27,53,54,55],parser={trace:function(){},yy:{},symbols_:{error:2,program:3,CLASS:4,PROG:5,BEGIN:6,def_list:7,"(":8,")":9,block:10,END:11,EOF:12,import_list:13,expr_list:14,import:15,IMPORT:16,package:17,";":18,VAR:19,".":20,"*":21,def:22,funct_type:23,var:24,paramList:25,param:26,",":27,DEF:28,INT:29,BOOL:30,expr:31,FORWARD:32,LEFT:33,PICKBUZZER:34,LEAVEBUZZER:35,HALT:36,CONTINUE:37,BREAK:38,return:39,call:40,cond:41,loop:42,repeat:43,RET:44,term:45,int_termList:46,IF:47,bool_term:48,ELSE:49,WHILE:50,REPEAT:51,int_term:52,OR:53,AND:54,"==":55,"<":56,"<=":57,NOT:58,clause:59,IFZ:60,IFINF:61,bool_fun:62,integer:63,IFNFWALL:64,IFFWALL:65,IFNLWALL:66,IFLWALL:67,IFNRWALL:68,IFRWALL:69,IFWBUZZER:70,IFNWBUZZER:71,IFBBUZZER:72,IFNBBUZZER:73,IFW:74,IFN:75,IFE:76,IFS:77,IFNW:78,IFNN:79,IFNE:80,IFNS:81,int_literal:82,INC:83,DEC:84,NUM:85,$accept:0,$end:1},terminals_:{2:"error",4:"CLASS",5:"PROG",6:"BEGIN",8:"(",9:")",11:"END",12:"EOF",16:"IMPORT",18:";",19:"VAR",20:".",21:"*",27:",",28:"DEF",29:"INT",30:"BOOL",32:"FORWARD",33:"LEFT",34:"PICKBUZZER",35:"LEAVEBUZZER",36:"HALT",37:"CONTINUE",38:"BREAK",44:"RET",47:"IF",49:"ELSE",50:"WHILE",51:"REPEAT",53:"OR",54:"AND",55:"==",56:"<",57:"<=",58:"NOT",60:"IFZ",61:"IFINF",64:"IFNFWALL",65:"IFFWALL",66:"IFNLWALL",67:"IFLWALL",68:"IFNRWALL",69:"IFRWALL",70:"IFWBUZZER",71:"IFNWBUZZER",72:"IFBBUZZER",73:"IFNBBUZZER",74:"IFW",75:"IFN",76:"IFE",77:"IFS",78:"IFNW",79:"IFNN",80:"IFNE",81:"IFNS",83:"INC",84:"DEC",85:"NUM"},productions_:[0,[3,10],[3,9],[3,11],[3,10],[10,3],[13,2],[13,1],[15,3],[17,3],[17,3],[7,2],[7,1],[22,5],[22,6],[25,3],[25,1],[26,1],[23,1],[23,1],[23,1],[14,2],[14,0],[31,4],[31,4],[31,4],[31,4],[31,4],[31,2],[31,2],[31,2],[31,2],[31,1],[31,1],[31,1],[31,1],[31,1],[39,3],[39,1],[39,2],[40,3],[40,4],[46,3],[46,1],[41,5],[41,7],[42,5],[43,5],[45,3],[45,3],[45,3],[45,3],[45,3],[45,2],[45,3],[45,1],[48,1],[52,1],[59,4],[59,4],[59,1],[59,3],[59,1],[59,1],[59,1],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[63,1],[63,4],[63,4],[63,6],[63,6],[82,1],[24,1]],performAction:function(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 1:return resetCompiler(),{compiler:COMPILER,language:LANG,variablesCanBeFunctions:VarsAsFuncs,requieresFunctionPrototypes:reqsPrototypes,packages:[],functions:$$[$0-6],program:$$[$0-2].concat([["LINE",yylineno,0],["HALT"]]),yy:yy};case 2:return resetCompiler(),{compiler:COMPILER,language:LANG,requieresFunctionPrototypes:reqsPrototypes,variablesCanBeFunctions:VarsAsFuncs,packages:[],functions:[],program:$$[$0-2].concat([["LINE",yylineno,0],["HALT"]]),yy:yy};case 3:return resetCompiler(),{compiler:COMPILER,language:LANG,requieresFunctionPrototypes:reqsPrototypes,variablesCanBeFunctions:VarsAsFuncs,packages:$$[$0-10],functions:$$[$0-6],program:$$[$0-2].concat([["LINE",yylineno,0],["HALT"]]),yy:yy};case 4:return resetCompiler(),{compiler:COMPILER,language:LANG,packages:$$[$0-9],requieresFunctionPrototypes:reqsPrototypes,variablesCanBeFunctions:VarsAsFuncs,functions:[],program:$$[$0-2].concat([["LINE",yylineno,0],["HALT"]]),yy:yy};case 5:case 30:case 31:this.$=$$[$0-1];break;case 6:case 11:case 21:this.$=$$[$0-1].concat($$[$0]);break;case 7:case 12:case 16:case 32:case 33:case 34:case 35:case 55:this.$=$$[$0];break;case 8:this.$=[[$$[$0-1],_$[$0-1]]];break;case 9:this.$=$$[$0-2]+"."+$$[$0];break;case 10:this.$=$$[$0-2]+".*";break;case 13:this._$.first_line=_$[$0-4].first_line,this._$.first_column=_$[$0-4].first_column,this._$.last_line=_$[$0-2].last_line,this._$.last_column=_$[$0-2].last_column,this.$=[{name:$$[$0-3],code:[locToIR(_$[$0-3]),...$$[$0],["RET","__DEFAULT",{first_line:_$[$0].last_line,first_column:_$[$0].last_column-1,last_line:_$[$0].last_line,last_column:_$[$0].last_column}]],params:[],loc:this._$,returnType:$$[$0-4]}];break;case 14:this._$.first_line=_$[$0-5].first_line,this._$.first_column=_$[$0-5].first_column,this._$.last_line=_$[$0-3].last_line,this._$.last_column=_$[$0-3].last_column;let result=[locToIR(_$[$0-4]),...$$[$0],["RET","__DEFAULT",{first_line:_$[$0].last_line,first_column:_$[$0].last_column-1,last_line:_$[$0].last_line,last_column:_$[$0].last_column}]];$$[$0-1],this.$=[{name:$$[$0-4],code:result,params:$$[$0-2],loc:this._$,returnType:$$[$0-5]}];break;case 15:this.$=$$[$0-2].concat($$[$0]);break;case 17:this.$=[{name:$$[$0],loc:_$[$0]}];break;case 18:this.$="VOID";break;case 19:this.$="INT";break;case 20:this.$="BOOL";break;case 22:case 36:this.$=[];break;case 23:this.$=[locToIR(_$[$0-3]),["FORWARD"]];break;case 24:this.$=[locToIR(_$[$0-3]),["LEFT"]];break;case 25:this.$=[locToIR(_$[$0-3]),["PICKBUZZER"]];break;case 26:this.$=[locToIR(_$[$0-3]),["LEAVEBUZZER"]];break;case 27:this.$=[locToIR(_$[$0-3]),["HALT"]];break;case 28:this.$=[locToIR(_$[$0-1]),["CONTINUE",_$[$0-1]]];break;case 29:this.$=[locToIR(_$[$0-1]),["BREAK",_$[$0-1]]];break;case 37:this.$=[["RET",{term:{operation:"ATOM",instructions:[["LOAD",0]],dataType:"VOID",atomType:"IMPLICIT#0"},loc:_$[$0-2]}]];break;case 38:this.$=[["RET",{term:{operation:"ATOM",instructions:[["LOAD",0]],dataType:"VOID",atomType:"IMPLICIT#0"},loc:_$[$0]}]];break;case 39:this.$=[["RET",{term:$$[$0],loc:_$[$0-1]}]];break;case 40:var loc={first_line:_$[$0-1].first_line,first_column:_$[$0-1].first_column,last_line:_$[$0].last_line,last_column:_$[$0].last_column};this.$=[["CALL",{target:$$[$0-2],params:[],nameLoc:_$[$0-2],argLoc:loc}]];break;case 41:this._$.first_column=_$[$0-3].first_column,this._$.first_line=_$[$0-3].first_line,this._$.last_column=_$[$0].last_column,this._$.last_line=_$[$0].last_line,this.$=[["CALL",{target:$$[$0-3],params:$$[$0-1],nameLoc:_$[$0-3],argLoc:loc}]];break;case 42:this.$=$$[$0-2].concat([{term:$$[$0],operation:"PASS",dataType:"INT",loc:$$[$0].loc,totalLoc:$$[$0].totalLoc}]);break;case 43:this.$=[{term:$$[$0],operation:"PASS",dataType:"INT",loc:$$[$0].loc,totalLoc:$$[$0].totalLoc}];break;case 44:const skipTag=UniqueTag("iskip");this.$=[["IF",{condition:$$[$0-2][0],line:locToIR(_$[$0-4]),skipTrueTag:skipTag,trueCase:$$[$0]}]];break;case 45:const toElse=UniqueTag("ielse"),skipElse=UniqueTag("iskipelse");this.$=[["IF",{condition:$$[$0-4][0],line:locToIR(_$[$0-6]),skipTrueTag:toElse,skipFalseTag:skipElse,trueCase:$$[$0-2],falseCase:$$[$0]}]];break;case 46:const repeatTag=UniqueTag("lrepeat"),endTag=UniqueTag("lend");this.$=[["WHILE",{condition:$$[$0-2][0],line:locToIR(_$[$0-4]),repeatTag:repeatTag,endTag:endTag,instructions:$$[$0]}]];break;case 47:const repeatEnd=UniqueTag("rend"),repeatLoop=UniqueTag("rloop"),continueLoop=UniqueTag("rcontinue");this.$=[["REPEAT",{line:locToIR(_$[$0-4]),loopCount:$$[$0-2][0],repeatTag:repeatLoop,continueTag:continueLoop,endTag:repeatEnd,instructions:$$[$0]}]];break;case 48:this._$=mergeLocs(_$[$0-2],_$[$0]),this.$={left:$$[$0-2],right:$$[$0],operation:"OR",dataType:"BOOL",loc:_$[$0-1],totalLoc:this._$};break;case 49:this._$=mergeLocs(_$[$0-2],_$[$0]),this.$={left:$$[$0-2],right:$$[$0],operation:"AND",dataType:"BOOL",loc:_$[$0-1],totalLoc:this._$};break;case 50:this._$=mergeLocs(_$[$0-2],_$[$0]),this.$={left:$$[$0-2],right:$$[$0],operation:"EQ",loc:_$[$0-1],totalLoc:this._$,dataType:"BOOL"};break;case 51:this._$=mergeLocs(_$[$0-2],_$[$0]),this.$={left:$$[$0-2],right:$$[$0],operation:"LT",dataType:"BOOL",loc:_$[$0-1],totalLoc:this._$};break;case 52:this._$=mergeLocs(_$[$0-2],_$[$0]),this.$={left:$$[$0-2],right:$$[$0],operation:"LTE",dataType:"BOOL",loc:_$[$0-1],totalLoc:this._$};break;case 53:this._$=mergeLocs(_$[$0-1],_$[$0]),this.$={term:$$[$0],operation:"NOT",dataType:"BOOL",loc:_$[$0-1],totalLoc:this._$};break;case 54:this.$={term:$$[$0-1],operation:"PARENTHESIS",dataType:$$[$0-1].dataType,loc:$$[$0-1].loc,totalLoc:this._$};break;case 56:this.$=[["TERM",{term:$$[$0],operation:"PASS",dataType:"BOOL",loc:$$[$0].loc,totalLoc:$$[$0].totalLoc}]];break;case 57:this.$=[["TERM",{term:$$[$0],operation:"PASS",dataType:"INT",loc:$$[$0].loc,totalLoc:$$[$0].totalLoc}]];break;case 58:this._$=mergeLocs(_$[$0-3],_$[$0]),this.$={operation:"ATOM",instructions:$$[$0-1].concat([["NOT"]]),dataType:"BOOL",atomType:"IS_ZERO",loc:_$[$0-3],totalLoc:this._$};break;case 59:this._$=mergeLocs(_$[$0-3],_$[$0]),this.$={operation:"ATOM",instructions:[["LOAD",999999999],...$$[$0-1],["LT"]],dataType:"BOOL",atomType:"IS_INFINITE",loc:_$[$0-3],totalLoc:this._$};break;case 60:this._$=_$[$0],this.$={operation:"ATOM",instructions:$$[$0].code,atomType:$$[$0].name,dataType:"BOOL",loc:this._$,totalLoc:this._$};break;case 61:this._$=mergeLocs(_$[$0-2],_$[$0]),this.$={operation:"ATOM",instructions:$$[$0-2].code,atomType:$$[$0-2].name,dataType:"BOOL",loc:_$[$0-2],totalLoc:this._$};break;case 62:this._$=_$[$0],this.$={operation:"ATOM",instructions:$$[$0].code,atomType:$$[$0].data,dataType:"INT",loc:_$[$0],totalLoc:_$[$0]};break;case 63:const callIR=$$[$0],callData=callIR[0][1];this.$={operation:"ATOM",instructions:[...callIR,["LRET"]],dataType:"$"+callData.target,atomType:"CALL",loc:_$[$0],totalLoc:_$[$0]};break;case 64:const ir=[["VAR",{target:$$[$0],loc:_$[$0],couldBeFunction:!1}]];this._$=_$[$0],this.$={operation:"ATOM",instructions:ir,dataType:"$"+$$[$0],atomType:`VAR#${$$[$0]}`,loc:_$[$0],totalLoc:_$[$0]};break;case 65:this.$={name:"IFNFWALL",code:[["WORLDWALLS"],["ORIENTATION"],["MASK"],["AND"],["NOT"]]};break;case 66:this.$={name:"IFFWALL",code:[["WORLDWALLS"],["ORIENTATION"],["MASK"],["AND"]]};break;case 67:this.$={name:"IFNLWALL",code:[["WORLDWALLS"],["ORIENTATION"],["ROTL"],["MASK"],["AND"],["NOT"]]};break;case 68:this.$={name:"IFLWALL",code:[["WORLDWALLS"],["ORIENTATION"],["ROTL"],["MASK"],["AND"]]};break;case 69:this.$={name:"IFNRWALL",code:[["WORLDWALLS"],["ORIENTATION"],["ROTR"],["MASK"],["AND"],["NOT"]]};break;case 70:this.$={name:"IFRWALL",code:[["WORLDWALLS"],["ORIENTATION"],["ROTR"],["MASK"],["AND"]]};break;case 71:this.$={name:"IFWBUZZER",code:[["WORLDBUZZERS"],["LOAD",0],["EQ"],["NOT"]]};break;case 72:this.$={name:"IFNWBUZZER",code:[["WORLDBUZZERS"],["NOT"]]};break;case 73:this.$={name:"IFBBUZZER",code:[["BAGBUZZERS"],["LOAD",0],["EQ"],["NOT"]]};break;case 74:this.$={name:"IFNBBUZZER",code:[["BAGBUZZERS"],["NOT"]]};break;case 75:this.$={name:"IFW",code:[["ORIENTATION"],["LOAD",0],["EQ"]]};break;case 76:this.$={name:"IFN",code:[["ORIENTATION"],["LOAD",1],["EQ"]]};break;case 77:this.$={name:"IFE",code:[["ORIENTATION"],["LOAD",2],["EQ"]]};break;case 78:this.$={name:"IFS",code:[["ORIENTATION"],["LOAD",3],["EQ"]]};break;case 79:this.$={name:"IFNW",code:[["ORIENTATION"],["LOAD",0],["EQ"],["NOT"]]};break;case 80:this.$={name:"IFNN",code:[["ORIENTATION"],["LOAD",1],["EQ"],["NOT"]]};break;case 81:this.$={name:"IFNE",code:[["ORIENTATION"],["LOAD",2],["EQ"],["NOT"]]};break;case 82:this.$={name:"IFNS",code:[["ORIENTATION"],["LOAD",3],["EQ"],["NOT"]]};break;case 83:this.$={data:`NUMBER#${$$[$0]}`,code:[["LOAD",$$[$0]]]};break;case 84:this.$={data:"INC",code:$$[$0-1].concat([["INC",1]])};break;case 85:this.$={data:"DEC",code:$$[$0-1].concat([["DEC",1]])};break;case 86:this.$={data:`INC#${$$[$0-1]}`,code:$$[$0-3].concat([["INC",$$[$0-1]]])};break;case 87:this.$={data:`DEC#${$$[$0-1]}`,code:$$[$0-3].concat([["DEC",$$[$0-1]]])};break;case 88:this.$=parseInt(yytext);break;case 89:this.$=yytext}},table:[{3:1,4:[1,2],13:3,15:4,16:$V0},{1:[3]},{5:[1,6]},{4:[1,7],15:8,16:$V0},o($V1,[2,7]),{17:9,19:[1,10]},{6:[1,11]},{5:[1,12]},o($V1,[2,6]),{18:[1,13]},{20:[1,14]},{5:[1,16],7:15,22:17,23:18,28:$V2,29:$V3,30:$V4},{6:[1,22]},o($V1,[2,8]),{19:[1,23],21:[1,24]},{5:[1,25],22:26,23:18,28:$V2,29:$V3,30:$V4},{8:[1,27]},o($V5,[2,12]),{19:$V6,24:28},{19:[2,18]},{19:[2,19]},{19:[2,20]},{5:[1,31],7:30,22:17,23:18,28:$V2,29:$V3,30:$V4},{18:[2,9]},{18:[2,10]},{8:[1,32]},o($V5,[2,11]),{9:[1,33]},{8:[1,34]},o($V7,[2,89]),{5:[1,35],22:26,23:18,28:$V2,29:$V3,30:$V4},{8:[1,36]},{9:[1,37]},{6:$V8,10:38},{9:[1,40],19:$V6,24:43,25:41,26:42},{8:[1,44]},{9:[1,45]},{6:$V8,10:46},{11:[1,47]},o($V9,[2,22],{14:48}),{6:$V8,10:49},{9:[1,50]},{9:[2,16],27:[1,51]},o($Va,[2,17]),{9:[1,52]},{6:$V8,10:53},{11:[1,54]},{12:[1,55]},{6:$V8,10:70,11:[1,56],18:$Vb,19:$V6,24:73,31:57,32:$Vc,33:$Vd,34:$Ve,35:$Vf,36:$Vg,37:$Vh,38:$Vi,39:65,40:66,41:67,42:68,43:69,44:$Vj,47:$Vk,50:$Vl,51:$Vm},o($V5,[2,13]),{6:$V8,10:77},{19:$V6,24:43,25:78,26:42},{6:$V8,10:79},{11:[1,80]},{12:[1,81]},{1:[2,2]},o([5,6,11,18,19,28,29,30,32,33,34,35,36,37,38,44,47,49,50,51],[2,5]),o($V9,[2,21]),{8:[1,82]},{8:[1,83]},{8:[1,84]},{8:[1,85]},{8:[1,86]},{18:[1,87]},{18:[1,88]},{18:[1,89]},{18:[1,90]},o($Vn,[2,32]),o($Vn,[2,33]),o($Vn,[2,34]),o($Vn,[2,35]),o($Vn,[2,36]),{8:[1,91],18:[2,38],19:$V6,24:100,40:99,45:92,58:$Vo,59:94,60:$Vp,61:$Vq,62:97,63:98,64:$Vr,65:$Vs,66:$Vt,67:$Vu,68:$Vv,69:$Vw,70:$Vx,71:$Vy,72:$Vz,73:$VA,74:$VB,75:$VC,76:$VD,77:$VE,78:$VF,79:$VG,80:$VH,81:$VI,82:119,83:$VJ,84:$VK,85:$VL},{8:$VM},{8:[1,124]},{8:[1,125]},{8:[1,126]},o($V5,[2,14]),{9:[2,15]},{11:[1,127]},{12:[1,128]},{1:[2,1]},{9:[1,129]},{9:[1,130]},{9:[1,131]},{9:[1,132]},{9:[1,133]},o($Vn,[2,28]),o($Vn,[2,29]),o($Vn,[2,30]),o($Vn,[2,31]),{8:$VN,9:[1,134],19:$V6,24:100,40:99,45:135,58:$Vo,59:94,60:$Vp,61:$Vq,62:97,63:98,64:$Vr,65:$Vs,66:$Vt,67:$Vu,68:$Vv,69:$Vw,70:$Vx,71:$Vy,72:$Vz,73:$VA,74:$VB,75:$VC,76:$VD,77:$VE,78:$VF,79:$VG,80:$VH,81:$VI,82:119,83:$VJ,84:$VK,85:$VL},{18:[2,39],53:$VO,54:$VP,55:$VQ,56:$VR,57:$VS},{8:$VN,19:$V6,24:100,40:99,45:142,58:$Vo,59:94,60:$Vp,61:$Vq,62:97,63:98,64:$Vr,65:$Vs,66:$Vt,67:$Vu,68:$Vv,69:$Vw,70:$Vx,71:$Vy,72:$Vz,73:$VA,74:$VB,75:$VC,76:$VD,77:$VE,78:$VF,79:$VG,80:$VH,81:$VI,82:119,83:$VJ,84:$VK,85:$VL},o($VT,[2,55]),{8:[1,143]},{8:[1,144]},o($VT,[2,60],{8:[1,145]}),o($VT,[2,62]),o($VT,[2,63]),o($VT,[2,64],{8:$VM}),o($V7,[2,65]),o($V7,[2,66]),o($V7,[2,67]),o($V7,[2,68]),o($V7,[2,69]),o($V7,[2,70]),o($V7,[2,71]),o($V7,[2,72]),o($V7,[2,73]),o($V7,[2,74]),o($V7,[2,75]),o($V7,[2,76]),o($V7,[2,77]),o($V7,[2,78]),o($V7,[2,79]),o($V7,[2,80]),o($V7,[2,81]),o($V7,[2,82]),o($VT,[2,83]),{8:[1,146]},{8:[1,147]},o($VT,[2,88]),{8:$VN,9:[1,148],19:$V6,24:100,40:99,45:150,46:149,58:$Vo,59:94,60:$Vp,61:$Vq,62:97,63:98,64:$Vr,65:$Vs,66:$Vt,67:$Vu,68:$Vv,69:$Vw,70:$Vx,71:$Vy,72:$Vz,73:$VA,74:$VB,75:$VC,76:$VD,77:$VE,78:$VF,79:$VG,80:$VH,81:$VI,82:119,83:$VJ,84:$VK,85:$VL},{8:$VN,19:$V6,24:100,40:99,45:152,48:151,58:$Vo,59:94,60:$Vp,61:$Vq,62:97,63:98,64:$Vr,65:$Vs,66:$Vt,67:$Vu,68:$Vv,69:$Vw,70:$Vx,71:$Vy,72:$Vz,73:$VA,74:$VB,75:$VC,76:$VD,77:$VE,78:$VF,79:$VG,80:$VH,81:$VI,82:119,83:$VJ,84:$VK,85:$VL},{8:$VN,19:$V6,24:100,40:99,45:152,48:153,58:$Vo,59:94,60:$Vp,61:$Vq,62:97,63:98,64:$Vr,65:$Vs,66:$Vt,67:$Vu,68:$Vv,69:$Vw,70:$Vx,71:$Vy,72:$Vz,73:$VA,74:$VB,75:$VC,76:$VD,77:$VE,78:$VF,79:$VG,80:$VH,81:$VI,82:119,83:$VJ,84:$VK,85:$VL},{8:$VN,19:$V6,24:100,40:99,45:155,52:154,58:$Vo,59:94,60:$Vp,61:$Vq,62:97,63:98,64:$Vr,65:$Vs,66:$Vt,67:$Vu,68:$Vv,69:$Vw,70:$Vx,71:$Vy,72:$Vz,73:$VA,74:$VB,75:$VC,76:$VD,77:$VE,78:$VF,79:$VG,80:$VH,81:$VI,82:119,83:$VJ,84:$VK,85:$VL},{12:[1,156]},{1:[2,4]},{18:[1,157]},{18:[1,158]},{18:[1,159]},{18:[1,160]},{18:[1,161]},{18:[2,37]},{9:[1,162],53:$VO,54:$VP,55:$VQ,56:$VR,57:$VS},{8:$VN,19:$V6,24:100,40:99,45:135,58:$Vo,59:94,60:$Vp,61:$Vq,62:97,63:98,64:$Vr,65:$Vs,66:$Vt,67:$Vu,68:$Vv,69:$Vw,70:$Vx,71:$Vy,72:$Vz,73:$VA,74:$VB,75:$VC,76:$VD,77:$VE,78:$VF,79:$VG,80:$VH,81:$VI,82:119,83:$VJ,84:$VK,85:$VL},{8:$VN,19:$V6,24:100,40:99,45:163,58:$Vo,59:94,60:$Vp,61:$Vq,62:97,63:98,64:$Vr,65:$Vs,66:$Vt,67:$Vu,68:$Vv,69:$Vw,70:$Vx,71:$Vy,72:$Vz,73:$VA,74:$VB,75:$VC,76:$VD,77:$VE,78:$VF,79:$VG,80:$VH,81:$VI,82:119,83:$VJ,84:$VK,85:$VL},{8:$VN,19:$V6,24:100,40:99,45:164,58:$Vo,59:94,60:$Vp,61:$Vq,62:97,63:98,64:$Vr,65:$Vs,66:$Vt,67:$Vu,68:$Vv,69:$Vw,70:$Vx,71:$Vy,72:$Vz,73:$VA,74:$VB,75:$VC,76:$VD,77:$VE,78:$VF,79:$VG,80:$VH,81:$VI,82:119,83:$VJ,84:$VK,85:$VL},{8:$VN,19:$V6,24:100,40:99,45:165,58:$Vo,59:94,60:$Vp,61:$Vq,62:97,63:98,64:$Vr,65:$Vs,66:$Vt,67:$Vu,68:$Vv,69:$Vw,70:$Vx,71:$Vy,72:$Vz,73:$VA,74:$VB,75:$VC,76:$VD,77:$VE,78:$VF,79:$VG,80:$VH,81:$VI,82:119,83:$VJ,84:$VK,85:$VL},{8:$VN,19:$V6,24:100,40:99,45:166,58:$Vo,59:94,60:$Vp,61:$Vq,62:97,63:98,64:$Vr,65:$Vs,66:$Vt,67:$Vu,68:$Vv,69:$Vw,70:$Vx,71:$Vy,72:$Vz,73:$VA,74:$VB,75:$VC,76:$VD,77:$VE,78:$VF,79:$VG,80:$VH,81:$VI,82:119,83:$VJ,84:$VK,85:$VL},{8:$VN,19:$V6,24:100,40:99,45:167,58:$Vo,59:94,60:$Vp,61:$Vq,62:97,63:98,64:$Vr,65:$Vs,66:$Vt,67:$Vu,68:$Vv,69:$Vw,70:$Vx,71:$Vy,72:$Vz,73:$VA,74:$VB,75:$VC,76:$VD,77:$VE,78:$VF,79:$VG,80:$VH,81:$VI,82:119,83:$VJ,84:$VK,85:$VL},o($VT,[2,53]),{8:$VN,19:$V6,24:100,40:99,45:155,52:168,58:$Vo,59:94,60:$Vp,61:$Vq,62:97,63:98,64:$Vr,65:$Vs,66:$Vt,67:$Vu,68:$Vv,69:$Vw,70:$Vx,71:$Vy,72:$Vz,73:$VA,74:$VB,75:$VC,76:$VD,77:$VE,78:$VF,79:$VG,80:$VH,81:$VI,82:119,83:$VJ,84:$VK,85:$VL},{8:$VN,19:$V6,24:100,40:99,45:155,52:169,58:$Vo,59:94,60:$Vp,61:$Vq,62:97,63:98,64:$Vr,65:$Vs,66:$Vt,67:$Vu,68:$Vv,69:$Vw,70:$Vx,71:$Vy,72:$Vz,73:$VA,74:$VB,75:$VC,76:$VD,77:$VE,78:$VF,79:$VG,80:$VH,81:$VI,82:119,83:$VJ,84:$VK,85:$VL},{9:[1,170]},{8:$VN,19:$V6,24:100,40:99,45:155,52:171,58:$Vo,59:94,60:$Vp,61:$Vq,62:97,63:98,64:$Vr,65:$Vs,66:$Vt,67:$Vu,68:$Vv,69:$Vw,70:$Vx,71:$Vy,72:$Vz,73:$VA,74:$VB,75:$VC,76:$VD,77:$VE,78:$VF,79:$VG,80:$VH,81:$VI,82:119,83:$VJ,84:$VK,85:$VL},{8:$VN,19:$V6,24:100,40:99,45:155,52:172,58:$Vo,59:94,60:$Vp,61:$Vq,62:97,63:98,64:$Vr,65:$Vs,66:$Vt,67:$Vu,68:$Vv,69:$Vw,70:$Vx,71:$Vy,72:$Vz,73:$VA,74:$VB,75:$VC,76:$VD,77:$VE,78:$VF,79:$VG,80:$VH,81:$VI,82:119,83:$VJ,84:$VK,85:$VL},o($VT,[2,40]),{9:[1,173],27:[1,174]},o($Va,[2,43],{53:$VO,54:$VP,55:$VQ,56:$VR,57:$VS}),{9:[1,175]},{9:[2,56],53:$VO,54:$VP,55:$VQ,56:$VR,57:$VS},{9:[1,176]},{9:[1,177]},o($Va,[2,57],{53:$VO,54:$VP,55:$VQ,56:$VR,57:$VS}),{1:[2,3]},o($Vn,[2,23]),o($Vn,[2,24]),o($Vn,[2,25]),o($Vn,[2,26]),o($Vn,[2,27]),o($VT,[2,54]),o([9,18,27,53],[2,48],{54:$VP,55:$VQ,56:$VR,57:$VS}),o($VU,[2,49],{55:$VQ,56:$VR,57:$VS}),o($VU,[2,50],{56:$VR,57:$VS}),o($VV,[2,51]),o($VV,[2,52]),{9:[1,178]},{9:[1,179]},o($VT,[2,61]),{9:[1,180],27:[1,181]},{9:[1,182],27:[1,183]},o($VT,[2,41]),{8:$VN,19:$V6,24:100,40:99,45:184,58:$Vo,59:94,60:$Vp,61:$Vq,62:97,63:98,64:$Vr,65:$Vs,66:$Vt,67:$Vu,68:$Vv,69:$Vw,70:$Vx,71:$Vy,72:$Vz,73:$VA,74:$VB,75:$VC,76:$VD,77:$VE,78:$VF,79:$VG,80:$VH,81:$VI,82:119,83:$VJ,84:$VK,85:$VL},{6:$V8,10:70,18:$Vb,19:$V6,24:73,31:185,32:$Vc,33:$Vd,34:$Ve,35:$Vf,36:$Vg,37:$Vh,38:$Vi,39:65,40:66,41:67,42:68,43:69,44:$Vj,47:$Vk,50:$Vl,51:$Vm},{6:$V8,10:70,18:$Vb,19:$V6,24:73,31:186,32:$Vc,33:$Vd,34:$Ve,35:$Vf,36:$Vg,37:$Vh,38:$Vi,39:65,40:66,41:67,42:68,43:69,44:$Vj,47:$Vk,50:$Vl,51:$Vm},{6:$V8,10:70,18:$Vb,19:$V6,24:73,31:187,32:$Vc,33:$Vd,34:$Ve,35:$Vf,36:$Vg,37:$Vh,38:$Vi,39:65,40:66,41:67,42:68,43:69,44:$Vj,47:$Vk,50:$Vl,51:$Vm},o($VT,[2,58]),o($VT,[2,59]),o($VT,[2,84]),{82:188,85:$VL},o($VT,[2,85]),{82:189,85:$VL},o($Va,[2,42],{53:$VO,54:$VP,55:$VQ,56:$VR,57:$VS}),o($V9,[2,44],{49:[1,190]}),o($Vn,[2,46]),o($Vn,[2,47]),{9:[1,191]},{9:[1,192]},{6:$V8,10:70,18:$Vb,19:$V6,24:73,31:193,32:$Vc,33:$Vd,34:$Ve,35:$Vf,36:$Vg,37:$Vh,38:$Vi,39:65,40:66,41:67,42:68,43:69,44:$Vj,47:$Vk,50:$Vl,51:$Vm},o($VT,[2,86]),o($VT,[2,87]),o($Vn,[2,45])],defaultActions:{19:[2,18],20:[2,19],21:[2,20],23:[2,9],24:[2,10],55:[2,2],78:[2,15],81:[2,1],128:[2,4],134:[2,37],156:[2,3]},parseError:function(str,hash){if(!hash.recoverable){var error=new Error(str);throw error.hash=hash,error}this.trace(str)},parse:function(input){var self=this,stack=[0],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,args=lstack.slice.call(arguments,1),lexer=Object.create(this.lexer),sharedState={yy:{}};for(var k in this.yy)Object.prototype.hasOwnProperty.call(this.yy,k)&&(sharedState.yy[k]=this.yy[k]);lexer.setInput(input,sharedState.yy),sharedState.yy.lexer=lexer,sharedState.yy.parser=this,void 0===lexer.yylloc&&(lexer.yylloc={});var yyloc=lexer.yylloc;lstack.push(yyloc);var ranges=lexer.options&&lexer.options.ranges;"function"==typeof sharedState.yy.parseError?this.parseError=sharedState.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var symbol,state,action,r,p,len,newState,expected,token,yyval={};;){if(state=stack[stack.length-1],this.defaultActions[state]?action=this.defaultActions[state]:(null==symbol&&(token=void 0,"number"!=typeof(token=lexer.lex()||1)&&(token=self.symbols_[token]||token),symbol=token),action=table[state]&&table[state][symbol]),void 0===action||!action.length||!action[0]){var errStr="";for(p in expected=[],table[state])this.terminals_[p]&&p>2&&expected.push("'"+this.terminals_[p]+"'");errStr=lexer.showPosition?"Parse error on line "+(yylineno+1)+":\n"+lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'":"Parse error on line "+(yylineno+1)+": Unexpected "+(1==symbol?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'"),this.parseError(errStr,{text:lexer.match,token:this.terminals_[symbol]||symbol,line:lexer.yylineno,loc:lexer.yylloc,expected:expected})}if(action[0]instanceof Array&&action.length>1)throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol);switch(action[0]){case 1:stack.push(symbol),vstack.push(lexer.yytext),lstack.push(lexer.yylloc),stack.push(action[1]),symbol=null,yyleng=lexer.yyleng,yytext=lexer.yytext,yylineno=lexer.yylineno,yyloc=lexer.yylloc;break;case 2:if(len=this.productions_[action[1]][1],yyval.$=vstack[vstack.length-len],yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column},ranges&&(yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]),void 0!==(r=this.performAction.apply(yyval,[yytext,yyleng,yylineno,sharedState.yy,action[1],vstack,lstack].concat(args))))return r;len&&(stack=stack.slice(0,-1*len*2),vstack=vstack.slice(0,-1*len),lstack=lstack.slice(0,-1*len)),stack.push(this.productions_[action[1]][0]),vstack.push(yyval.$),lstack.push(yyval._$),newState=table[stack[stack.length-2]][stack[stack.length-1]],stack.push(newState);break;case 3:return!0}}return!0}};const COMPILER="RKJ 1.0.0",LANG="ReKarel Java",VarsAsFuncs=!1,reqsPrototypes=!1;let tagCnt=1;function UniqueTag(tag){return`${tag}.${tagCnt++}`}function resetCompiler(tag){tagCnt=1}function mergeLocs(first,second){return{first_line:first.first_line,first_column:first.first_column,last_line:second.last_line,last_column:second.last_column}}function locToIR(loc){return["LINE",loc.first_line-1,loc.first_column]}var lexer={EOF:1,parseError:function(str,hash){if(!this.yy.parser)throw new Error(str);this.yy.parser.parseError(str,hash)},setInput:function(input,yy){return this.yy=yy||this.yy||{},this._input=input,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ch=this._input[0];return this.yytext+=ch,this.yyleng++,this.offset++,this.match+=ch,this.matched+=ch,ch.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ch},unput:function(ch){var len=ch.length,lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-len),this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),lines.length-1&&(this.yylineno-=lines.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-len]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;return next.length<20&&(next+=this._input.substr(0,20-next.length)),(next.substr(0,20)+(next.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput(),c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},test_match:function(match,indexed_rule){var token,lines,backup;if(this.options.backtrack_lexer&&(backup={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(backup.yylloc.range=this.yylloc.range.slice(0))),(lines=match[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=lines.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length},this.yytext+=match[0],this.match+=match[0],this.matches=match,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(match[0].length),this.matched+=match[0],token=this.performAction.call(this,this.yy,this,indexed_rule,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),token)return token;if(this._backtrack){for(var k in backup)this[k]=backup[k];return!1}return!1},next:function(){if(this.done)return this.EOF;var token,match,tempMatch,index;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var rules=this._currentRules(),i=0;i<rules.length;i++)if((tempMatch=this._input.match(this.rules[rules[i]]))&&(!match||tempMatch[0].length>match[0].length)){if(match=tempMatch,index=i,this.options.backtrack_lexer){if(!1!==(token=this.test_match(tempMatch,rules[i])))return token;if(this._backtrack){match=!1;continue}return!1}if(!this.options.flex)break}return match?!1!==(token=this.test_match(match,rules[index]))&&token:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var r=this.next();return r||this.lex()},begin:function(condition){this.conditionStack.push(condition)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(n){return(n=this.conditionStack.length-1-Math.abs(n||0))>=0?this.conditionStack[n]:"INITIAL"},pushState:function(condition){this.begin(condition)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(yy,yy_,$avoiding_name_collisions,YY_START){switch($avoiding_name_collisions){case 0:case 1:case 2:break;case 3:return 4;case 4:return 5;case 5:case 7:return 28;case 6:return 16;case 8:return 29;case 9:return 30;case 10:return 44;case 11:return 36;case 12:return 33;case 13:return 32;case 14:return 34;case 15:return 35;case 16:return 37;case 17:return 38;case 18:return 50;case 19:return 51;case 20:return 84;case 21:return 83;case 22:return 60;case 23:return 61;case 24:return 64;case 25:return 65;case 26:return 66;case 27:return 67;case 28:return 68;case 29:return 69;case 30:return 70;case 31:return 71;case 32:return 72;case 33:return 73;case 34:return 75;case 35:return 77;case 36:return 76;case 37:return 74;case 38:return 79;case 39:return 81;case 40:return 80;case 41:return 78;case 42:return 49;case 43:return 47;case 44:return 58;case 45:return 53;case 46:case 47:return 54;case 48:return 8;case 49:return 9;case 50:return 6;case 51:return 11;case 52:return 18;case 53:return 20;case 54:return 21;case 55:return 27;case 56:return 55;case 57:return 57;case 58:return 56;case 59:return 85;case 60:return 19;case 61:return 12}},rules:[/^(?:\s+)/,/^(?:\/\/[^\n]*)/,/^(?:\/\*(?:[^*]|\*(?!\/))*\*\/)/,/^(?:class\b)/,/^(?:program\b)/,/^(?:define\b)/,/^(?:import\b)/,/^(?:void\b)/,/^(?:int\b)/,/^(?:bool\b)/,/^(?:return\b)/,/^(?:turnoff\b)/,/^(?:turnleft\b)/,/^(?:move\b)/,/^(?:pickbeeper\b)/,/^(?:putbeeper\b)/,/^(?:continue\b)/,/^(?:break\b)/,/^(?:while\b)/,/^(?:iterate\b)/,/^(?:pred\b)/,/^(?:succ\b)/,/^(?:iszero\b)/,/^(?:isinfinite\b)/,/^(?:frontIsClear\b)/,/^(?:frontIsBlocked\b)/,/^(?:leftIsClear\b)/,/^(?:leftIsBlocked\b)/,/^(?:rightIsClear\b)/,/^(?:rightIsBlocked\b)/,/^(?:nextToABeeper\b)/,/^(?:notNextToABeeper\b)/,/^(?:anyBeepersInBeeperBag\b)/,/^(?:noBeepersInBeeperBag\b)/,/^(?:facingNorth\b)/,/^(?:facingSouth\b)/,/^(?:facingEast\b)/,/^(?:facingWest\b)/,/^(?:notFacingNorth\b)/,/^(?:notFacingSouth\b)/,/^(?:notFacingEast\b)/,/^(?:notFacingWest\b)/,/^(?:else\b)/,/^(?:if\b)/,/^(?:!)/,/^(?:\|\|)/,/^(?:&&)/,/^(?:&)/,/^(?:\()/,/^(?:\))/,/^(?:\{)/,/^(?:\})/,/^(?:;)/,/^(?:\.)/,/^(?:\*)/,/^(?:,)/,/^(?:==)/,/^(?:<=)/,/^(?:<)/,/^(?:[0-9]+)/,/^(?:[A-Za-zÀ-ÖØ-öø-ÿ_][A-Za-zÀ-ÖØ-öø-ÿ0-9_-]*)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61],inclusive:!0}}};function Parser(){this.yy={}}return parser.lexer=lexer,Parser.prototype=parser,parser.Parser=Parser,new Parser}();var karelpascal=function(){var o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,5],$V1=[1,16],$V2=[1,17],$V3=[1,18],$V4=[1,13],$V5=[1,14],$V6=[1,15],$V7=[5,13],$V8=[1,21],$V9=[9,15],$Va=[2,28],$Vb=[1,29],$Vc=[1,30],$Vd=[1,31],$Ve=[1,32],$Vf=[1,33],$Vg=[1,34],$Vh=[1,35],$Vi=[1,41],$Vj=[1,42],$Vk=[1,45],$Vl=[1,46],$Vm=[1,47],$Vn=[1,58],$Vo=[9,15,49],$Vp=[9,15,49,57],$Vq=[1,62],$Vr=[1,61],$Vs=[1,64],$Vt=[1,65],$Vu=[1,70],$Vv=[1,71],$Vw=[1,72],$Vx=[1,73],$Vy=[1,74],$Vz=[1,75],$VA=[1,76],$VB=[1,77],$VC=[1,78],$VD=[1,79],$VE=[1,80],$VF=[1,81],$VG=[1,82],$VH=[1,83],$VI=[1,84],$VJ=[1,85],$VK=[1,86],$VL=[1,87],$VM=[1,89],$VN=[1,90],$VO=[1,91],$VP=[1,92],$VQ=[7,29,30,31,32,33,34],$VR=[1,109],$VS=[1,110],$VT=[1,111],$VU=[1,112],$VV=[1,113],$VW=[9,15,23,28,49,56,57,59,62,63,64,65,66,67],$VX=[23,28],$VY=[9,15,23,28,49,56,57,59,62,63,64],$VZ=[9,15,23,28,49,56,57,59,62,63,64,65],parser={trace:function(){},yy:{},symbols_:{error:2,program:3,import_list:4,BEGINPROG:5,def_list:6,BEGINEXEC:7,expr_list:8,ENDEXEC:9,ENDPROG:10,EOF:11,import:12,IMPORT:13,package:14,";":15,var:16,".":17,"*":18,def:19,prototype_type:20,"(":21,paramList:22,")":23,funct_type:24,AS:25,expr:26,param:27,",":28,DEF_INT:29,DEF_BOOL:30,DEF:31,PROTO_INT:32,PROTO_BOOL:33,PROTO:34,genexpr:35,FORWARD:36,LEFT:37,PICKBUZZER:38,LEAVEBUZZER:39,HALT:40,CONTINUE:41,BREAK:42,return:43,call:44,cond:45,loop:46,repeat:47,BEGIN:48,END:49,RET:50,term:51,parameteredCall:52,int_termList:53,IF:54,bool_term:55,THEN:56,ELSE:57,WHILE:58,DO:59,REPEAT:60,int_term:61,TIMES:62,OR:63,AND:64,"==":65,"<":66,"<=":67,NOT:68,clause:69,IFZ:70,IFINF:71,bool_fun:72,integer:73,IFNFWALL:74,IFFWALL:75,IFNLWALL:76,IFLWALL:77,IFNRWALL:78,IFRWALL:79,IFWBUZZER:80,IFNWBUZZER:81,IFBBUZZER:82,IFNBBUZZER:83,IFW:84,IFN:85,IFE:86,IFS:87,IFNW:88,IFNN:89,IFNE:90,IFNS:91,int_literal:92,INC:93,DEC:94,NUM:95,VAR:96,$accept:0,$end:1},terminals_:{2:"error",5:"BEGINPROG",7:"BEGINEXEC",9:"ENDEXEC",10:"ENDPROG",11:"EOF",13:"IMPORT",15:";",17:".",18:"*",21:"(",23:")",25:"AS",28:",",29:"DEF_INT",30:"DEF_BOOL",31:"DEF",32:"PROTO_INT",33:"PROTO_BOOL",34:"PROTO",36:"FORWARD",37:"LEFT",38:"PICKBUZZER",39:"LEAVEBUZZER",40:"HALT",41:"CONTINUE",42:"BREAK",48:"BEGIN",49:"END",50:"RET",54:"IF",56:"THEN",57:"ELSE",58:"WHILE",59:"DO",60:"REPEAT",62:"TIMES",63:"OR",64:"AND",65:"==",66:"<",67:"<=",68:"NOT",70:"IFZ",71:"IFINF",74:"IFNFWALL",75:"IFFWALL",76:"IFNLWALL",77:"IFLWALL",78:"IFNRWALL",79:"IFRWALL",80:"IFWBUZZER",81:"IFNWBUZZER",82:"IFBBUZZER",83:"IFNBBUZZER",84:"IFW",85:"IFN",86:"IFE",87:"IFS",88:"IFNW",89:"IFNN",90:"IFNE",91:"IFNS",93:"INC",94:"DEC",95:"NUM",96:"VAR"},productions_:[0,[3,8],[3,7],[3,7],[3,6],[4,2],[4,1],[12,3],[14,3],[14,3],[6,3],[6,2],[19,2],[19,5],[19,4],[19,7],[22,3],[22,1],[27,1],[24,1],[24,1],[24,1],[20,1],[20,1],[20,1],[8,3],[8,1],[35,1],[35,0],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,3],[43,1],[43,2],[44,1],[44,1],[52,4],[53,3],[53,1],[45,4],[45,6],[46,4],[47,4],[51,3],[51,3],[51,3],[51,3],[51,3],[51,2],[51,3],[51,1],[55,1],[61,1],[69,4],[69,4],[69,1],[69,1],[69,1],[69,1],[72,1],[72,1],[72,1],[72,1],[72,1],[72,1],[72,1],[72,1],[72,1],[72,1],[72,1],[72,1],[72,1],[72,1],[72,1],[72,1],[72,1],[72,1],[73,1],[73,4],[73,4],[73,6],[73,6],[92,1],[16,1]],performAction:function(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 1:return resetCompiler(),{compiler:COMPILER,language:LANG,requieresFunctionPrototypes:reqsPrototypes,variablesCanBeFunctions:VarsAsFuncs,packages:$$[$0-7],functions:$$[$0-5],program:$$[$0-3].concat([["LINE",yylineno,0],["HALT"]]),yy:yy};case 2:return resetCompiler(),{compiler:COMPILER,language:LANG,requieresFunctionPrototypes:reqsPrototypes,variablesCanBeFunctions:VarsAsFuncs,packages:$$[$0-6],functions:[],program:$$[$0-3].concat([["LINE",yylineno,0],["HALT"]]),yy:yy};case 3:return resetCompiler(),{compiler:COMPILER,language:LANG,requieresFunctionPrototypes:reqsPrototypes,variablesCanBeFunctions:VarsAsFuncs,packages:[],functions:$$[$0-5],program:$$[$0-3].concat([["LINE",yylineno,0],["HALT"]]),yy:yy};case 4:return resetCompiler(),{compiler:COMPILER,language:LANG,requieresFunctionPrototypes:reqsPrototypes,variablesCanBeFunctions:VarsAsFuncs,packages:[],functions:[],program:$$[$0-3].concat([["LINE",yylineno,0],["HALT"]]),yy:yy};case 5:this.$=$$[$0-1].concat($$[$0]);break;case 6:case 17:case 26:case 27:case 36:case 37:case 38:case 39:case 40:case 45:case 60:this.$=$$[$0];break;case 7:this.$=[[$$[$0-1],_$[$0-1]]];break;case 8:this.$=$$[$0-2]+"."+$$[$0];break;case 9:this.$=$$[$0-2]+".*";break;case 10:this.$=$$[$0-2].concat($$[$0-1]);break;case 11:case 41:this.$=$$[$0-1];break;case 12:this._$.first_line=_$[$0-1].first_line,this._$.first_column=_$[$0-1].first_column,this._$.last_line=_$[$0].last_line,this._$.last_column=_$[$0].last_column,this.$=[{name:$$[$0],code:null,params:[],loc:this._$,returnType:$$[$0-1]}];break;case 13:this._$.first_line=_$[$0-4].first_line,this._$.first_column=_$[$0-4].first_column,this._$.last_line=_$[$0].last_line,this._$.last_column=_$[$0].last_column,this.$=[{name:$$[$0-3],code:null,params:$$[$0-1],loc:this._$,returnType:$$[$0-4]}];break;case 14:this._$.first_line=_$[$0-3].first_line,this._$.first_column=_$[$0-3].first_column,this._$.last_line=_$[$0-2].last_line,this._$.last_column=_$[$0-2].last_column,this.$=[{name:$$[$0-2],code:[locToIR(_$[$0-2]),...$$[$0],["RET","__DEFAULT",{first_line:_$[$0].last_line,first_column:_$[$0].last_column,last_line:_$[$0].last_line,last_column:_$[$0].last_column}]],params:[],loc:this._$,returnType:$$[$0-3]}];break;case 15:this._$.first_line=_$[$0-6].first_line,this._$.first_column=_$[$0-6].first_column,this._$.last_line=_$[$0-5].last_line,this._$.last_column=_$[$0-5].last_column,this.$=[{name:$$[$0-5],code:[locToIR(_$[$0-5]),...$$[$0],["RET","__DEFAULT",{first_line:_$[$0].last_line,first_column:_$[$0].last_column,last_line:_$[$0].last_line,last_line:_$[$0].last_column}]],params:$$[$0-3],loc:this._$,returnType:$$[$0-6]}];break;case 16:case 25:this.$=$$[$0-2].concat($$[$0]);break;case 18:this.$=[{name:$$[$0],loc:_$[$0]}];break;case 19:case 22:this.$="INT";break;case 20:case 23:this.$="BOOL";break;case 21:case 24:this.$="VOID";break;case 28:this.$=[];break;case 29:this.$=[locToIR(_$[$0]),["FORWARD"]];break;case 30:this.$=[locToIR(_$[$0]),["LEFT"]];break;case 31:this.$=[locToIR(_$[$0]),["PICKBUZZER"]];break;case 32:this.$=[locToIR(_$[$0]),["LEAVEBUZZER"]];break;case 33:this.$=[locToIR(_$[$0]),["HALT"]];break;case 34:this.$=[locToIR(_$[$0]),["CONTINUE",_$[$0]]];break;case 35:this.$=[locToIR(_$[$0]),["BREAK",_$[$0]]];break;case 42:this.$=[["RET",{term:{operation:"ATOM",instructions:[["LOAD",0]],atomType:"IMPLICIT#0",dataType:"VOID"},loc:_$[$0]}]];break;case 43:this.$=[["RET",{term:$$[$0],loc:_$[$0-1]}]];break;case 44:this.$=[["CALL",{target:$$[$0],params:[],nameLoc:_$[$0],argLoc:_$[$0]}]];break;case 46:this.$=[["CALL",{target:$$[$0-3],params:$$[$0-1],nameLoc:_$[$0-3],argLoc:_$[$0-1]}]];break;case 47:this.$=$$[$0-2].concat([{term:$$[$0],operation:"PASS",dataType:"INT",loc:_$[$0],totalLoc:_$[$0]}]);break;case 48:this.$=[{term:$$[$0],operation:"PASS",dataType:"INT",loc:_$[$0],totalLoc:_$[$0]}];break;case 49:const skipTag=UniqueTag("iskip");this.$=[["IF",{condition:$$[$0-2][0],line:locToIR(_$[$0-3]),skipTrueTag:skipTag,trueCase:$$[$0]}]];break;case 50:const toElse=UniqueTag("ielse"),skipElse=UniqueTag("iskipelse");this.$=[["IF",{condition:$$[$0-4][0],line:locToIR(_$[$0-5]),skipTrueTag:toElse,skipFalseTag:skipElse,trueCase:$$[$0-2],falseCase:$$[$0]}]];break;case 51:const repeatTag=UniqueTag("lrepeat"),endTag=UniqueTag("lend");this.$=[["WHILE",{condition:$$[$0-2][0],line:locToIR(_$[$0-3]),repeatTag:repeatTag,endTag:endTag,instructions:$$[$0]}]];break;case 52:const repeatEnd=UniqueTag("rend"),repeatLoop=UniqueTag("rloop"),continueLoop=UniqueTag("rcontinue");this.$=[["REPEAT",{line:locToIR(_$[$0-3]),loopCount:$$[$0-2][0],repeatTag:repeatLoop,endTag:repeatEnd,continueTag:continueLoop,instructions:$$[$0]}]];break;case 53:this.$={left:$$[$0-2],right:$$[$0],operation:"OR",dataType:"BOOL",loc:_$[$0-1],totalLoc:this._$};break;case 54:this.$={left:$$[$0-2],right:$$[$0],operation:"AND",dataType:"BOOL",loc:_$[$0-1],totalLoc:this._$};break;case 55:this.$={left:$$[$0-2],right:$$[$0],operation:"EQ",dataType:"BOOL",loc:_$[$0-1],totalLoc:this._$};break;case 56:this.$={left:$$[$0-2],right:$$[$0],operation:"LT",dataType:"BOOL",loc:_$[$0-1],totalLoc:this._$};break;case 57:this.$={left:$$[$0-2],right:$$[$0],operation:"LTE",dataType:"BOOL",loc:_$[$0-1],totalLoc:this._$};break;case 58:this.$={term:$$[$0],operation:"NOT",dataType:"BOOL",loc:_$[$0-1],totalLoc:this._$};break;case 59:this.$={term:$$[$0-1],operation:"PARENTHESIS",dataType:$$[$0-1].dataType,loc:$$[$0-1].loc,totalLoc:this._$};break;case 61:this.$=[["TERM",{term:$$[$0],operation:"PASS",dataType:"BOOL",loc:_$[$0],totalLoc:_$[$0]}]];break;case 62:this.$=[["TERM",{term:$$[$0],operation:"PASS",dataType:"INT",loc:_$[$0],totalLoc:_$[$0]}]];break;case 63:this.$={operation:"ATOM",instructions:$$[$0-1].concat([["NOT"]]),dataType:"BOOL",atomType:"IS_ZERO",loc:_$[$0-3],totalLoc:this._$};break;case 64:this._$.first_line=_$[$0-3].first_line,this._$.first_column=_$[$0-3].first_column,this._$.last_line=_$[$0].last_line,this._$.last_column=_$[$0].last_column,this.$={operation:"ATOM",instructions:[["LOAD",999999999],...$$[$0-1],["LT"]],dataType:"BOOL",atomType:"IS_INFINITE",loc:_$[$0-3],totalLoc:this._$};break;case 65:this.$={operation:"ATOM",instructions:$$[$0].code,atomType:$$[$0].name,dataType:"BOOL",loc:_$[$0],totalLoc:_$[$0]};break;case 66:this.$={operation:"ATOM",instructions:$$[$0].code,atomType:$$[$0].data,dataType:"INT",loc:_$[$0],totalLoc:_$[$0]};break;case 67:const ir=[["VAR",{target:$$[$0],loc:_$[$0],couldBeFunction:!0}]];this.$={operation:"ATOM",instructions:ir,dataType:"$"+$$[$0],atomType:`VAR#${$$[$0]}`,loc:_$[$0],totalLoc:_$[$0]};break;case 68:const callIR=$$[$0],callData=callIR[0][1];this.$={operation:"ATOM",instructions:[...callIR,["LRET"]],dataType:"$"+callData.target,atomType:"CALL",loc:_$[$0],totalLoc:_$[$0]};break;case 69:this.$={name:"IFNFWALL",code:[["WORLDWALLS"],["ORIENTATION"],["MASK"],["AND"],["NOT"]]};break;case 70:this.$={name:"IFFWALL",code:[["WORLDWALLS"],["ORIENTATION"],["MASK"],["AND"]]};break;case 71:this.$={name:"IFNLWALL",code:[["WORLDWALLS"],["ORIENTATION"],["ROTL"],["MASK"],["AND"],["NOT"]]};break;case 72:this.$={name:"IFLWALL",code:[["WORLDWALLS"],["ORIENTATION"],["ROTL"],["MASK"],["AND"]]};break;case 73:this.$={name:"IFNRWALL",code:[["WORLDWALLS"],["ORIENTATION"],["ROTR"],["MASK"],["AND"],["NOT"]]};break;case 74:this.$={name:"IFRWALL",code:[["WORLDWALLS"],["ORIENTATION"],["ROTR"],["MASK"],["AND"]]};break;case 75:this.$={name:"IFWBUZZER",code:[["WORLDBUZZERS"],["LOAD",0],["EQ"],["NOT"]]};break;case 76:this.$={name:"IFNWBUZZER",code:[["WORLDBUZZERS"],["NOT"]]};break;case 77:this.$={name:"IFBBUZZER",code:[["BAGBUZZERS"],["LOAD",0],["EQ"],["NOT"]]};break;case 78:this.$={name:"IFNBBUZZER",code:[["BAGBUZZERS"],["NOT"]]};break;case 79:this.$={name:"IFW",code:[["ORIENTATION"],["LOAD",0],["EQ"]]};break;case 80:this.$={name:"IFN",code:[["ORIENTATION"],["LOAD",1],["EQ"]]};break;case 81:this.$={name:"IFE",code:[["ORIENTATION"],["LOAD",2],["EQ"]]};break;case 82:this.$={name:"IFS",code:[["ORIENTATION"],["LOAD",3],["EQ"]]};break;case 83:this.$={name:"IFNW",code:[["ORIENTATION"],["LOAD",0],["EQ"],["NOT"]]};break;case 84:this.$={name:"IFNN",code:[["ORIENTATION"],["LOAD",1],["EQ"],["NOT"]]};break;case 85:this.$={name:"IFNE",code:[["ORIENTATION"],["LOAD",2],["EQ"],["NOT"]]};break;case 86:this.$={name:"IFNS",code:[["ORIENTATION"],["LOAD",3],["EQ"],["NOT"]]};break;case 87:this.$={data:`NUMBER#${$$[$0]}`,code:[["LOAD",$$[$0]]]};break;case 88:this.$={data:"INC",code:$$[$0-1].concat([["INC",1]])};break;case 89:this.$={data:"DEC",code:$$[$0-1].concat([["DEC",1]])};break;case 90:this.$={data:`INC#${$$[$0-1]}`,code:$$[$0-3].concat([["INC",$$[$0-1]]])};break;case 91:this.$={data:`DEC#${$$[$0-1]}`,code:$$[$0-3].concat([["DEC",$$[$0-1]]])};break;case 92:this.$=parseInt(yytext);break;case 93:this.$=yytext.toLowerCase()}},table:[{3:1,4:2,5:[1,3],12:4,13:$V0},{1:[3]},{5:[1,6],12:7,13:$V0},{6:8,7:[1,9],19:10,20:11,24:12,29:$V1,30:$V2,31:$V3,32:$V4,33:$V5,34:$V6},o($V7,[2,6]),{14:19,16:20,96:$V8},{6:22,7:[1,23],19:10,20:11,24:12,29:$V1,30:$V2,31:$V3,32:$V4,33:$V5,34:$V6},o($V7,[2,5]),{7:[1,24],19:25,20:11,24:12,29:$V1,30:$V2,31:$V3,32:$V4,33:$V5,34:$V6},o($V9,$Va,{8:26,35:27,26:28,43:36,44:37,45:38,46:39,47:40,16:43,52:44,36:$Vb,37:$Vc,38:$Vd,39:$Ve,40:$Vf,41:$Vg,42:$Vh,48:$Vi,50:$Vj,54:$Vk,58:$Vl,60:$Vm,96:$V8}),{15:[1,48]},{16:49,96:$V8},{16:50,96:$V8},{96:[2,22]},{96:[2,23]},{96:[2,24]},{96:[2,19]},{96:[2,20]},{96:[2,21]},{15:[1,51]},{17:[1,52]},o([9,15,17,21,23,25,28,49,56,57,59,62,63,64,65,66,67],[2,93]),{7:[1,53],19:25,20:11,24:12,29:$V1,30:$V2,31:$V3,32:$V4,33:$V5,34:$V6},o($V9,$Va,{35:27,26:28,43:36,44:37,45:38,46:39,47:40,16:43,52:44,8:54,36:$Vb,37:$Vc,38:$Vd,39:$Ve,40:$Vf,41:$Vg,42:$Vh,48:$Vi,50:$Vj,54:$Vk,58:$Vl,60:$Vm,96:$V8}),o($V9,$Va,{35:27,26:28,43:36,44:37,45:38,46:39,47:40,16:43,52:44,8:55,36:$Vb,37:$Vc,38:$Vd,39:$Ve,40:$Vf,41:$Vg,42:$Vh,48:$Vi,50:$Vj,54:$Vk,58:$Vl,60:$Vm,96:$V8}),{15:[1,56]},{9:[1,57],15:$Vn},o($Vo,[2,26]),o($Vo,[2,27]),o($Vp,[2,29]),o($Vp,[2,30]),o($Vp,[2,31]),o($Vp,[2,32]),o($Vp,[2,33]),o($Vp,[2,34]),o($Vp,[2,35]),o($Vp,[2,36]),o($Vp,[2,37]),o($Vp,[2,38]),o($Vp,[2,39]),o($Vp,[2,40]),o([15,49],$Va,{35:27,26:28,43:36,44:37,45:38,46:39,47:40,16:43,52:44,8:59,36:$Vb,37:$Vc,38:$Vd,39:$Ve,40:$Vf,41:$Vg,42:$Vh,48:$Vi,50:$Vj,54:$Vk,58:$Vl,60:$Vm,96:$V8}),o($Vp,[2,42],{51:60,69:63,72:66,73:67,16:68,52:69,92:88,21:$Vq,68:$Vr,70:$Vs,71:$Vt,74:$Vu,75:$Vv,76:$Vw,77:$Vx,78:$Vy,79:$Vz,80:$VA,81:$VB,82:$VC,83:$VD,84:$VE,85:$VF,86:$VG,87:$VH,88:$VI,89:$VJ,90:$VK,91:$VL,93:$VM,94:$VN,95:$VO,96:$V8}),o($Vp,[2,44],{21:$VP}),o($Vp,[2,45]),{16:68,21:$Vq,51:94,52:69,55:93,68:$Vr,69:63,70:$Vs,71:$Vt,72:66,73:67,74:$Vu,75:$Vv,76:$Vw,77:$Vx,78:$Vy,79:$Vz,80:$VA,81:$VB,82:$VC,83:$VD,84:$VE,85:$VF,86:$VG,87:$VH,88:$VI,89:$VJ,90:$VK,91:$VL,92:88,93:$VM,94:$VN,95:$VO,96:$V8},{16:68,21:$Vq,51:94,52:69,55:95,68:$Vr,69:63,70:$Vs,71:$Vt,72:66,73:67,74:$Vu,75:$Vv,76:$Vw,77:$Vx,78:$Vy,79:$Vz,80:$VA,81:$VB,82:$VC,83:$VD,84:$VE,85:$VF,86:$VG,87:$VH,88:$VI,89:$VJ,90:$VK,91:$VL,92:88,93:$VM,94:$VN,95:$VO,96:$V8},{16:68,21:$Vq,51:97,52:69,61:96,68:$Vr,69:63,70:$Vs,71:$Vt,72:66,73:67,74:$Vu,75:$Vv,76:$Vw,77:$Vx,78:$Vy,79:$Vz,80:$VA,81:$VB,82:$VC,83:$VD,84:$VE,85:$VF,86:$VG,87:$VH,88:$VI,89:$VJ,90:$VK,91:$VL,92:88,93:$VM,94:$VN,95:$VO,96:$V8},o($VQ,[2,11]),{15:[2,12],21:[1,98]},{21:[1,100],25:[1,99]},o($V7,[2,7]),{16:101,18:[1,102],96:$V8},o($V9,$Va,{35:27,26:28,43:36,44:37,45:38,46:39,47:40,16:43,52:44,8:103,36:$Vb,37:$Vc,38:$Vd,39:$Ve,40:$Vf,41:$Vg,42:$Vh,48:$Vi,50:$Vj,54:$Vk,58:$Vl,60:$Vm,96:$V8}),{9:[1,104],15:$Vn},{9:[1,105],15:$Vn},o($VQ,[2,10]),{10:[1,106]},o($Vo,$Va,{26:28,43:36,44:37,45:38,46:39,47:40,16:43,52:44,35:107,36:$Vb,37:$Vc,38:$Vd,39:$Ve,40:$Vf,41:$Vg,42:$Vh,48:$Vi,50:$Vj,54:$Vk,58:$Vl,60:$Vm,96:$V8}),{15:$Vn,49:[1,108]},o($Vp,[2,43],{63:$VR,64:$VS,65:$VT,66:$VU,67:$VV}),{16:68,21:$Vq,51:114,52:69,68:$Vr,69:63,70:$Vs,71:$Vt,72:66,73:67,74:$Vu,75:$Vv,76:$Vw,77:$Vx,78:$Vy,79:$Vz,80:$VA,81:$VB,82:$VC,83:$VD,84:$VE,85:$VF,86:$VG,87:$VH,88:$VI,89:$VJ,90:$VK,91:$VL,92:88,93:$VM,94:$VN,95:$VO,96:$V8},{16:68,21:$Vq,51:115,52:69,68:$Vr,69:63,70:$Vs,71:$Vt,72:66,73:67,74:$Vu,75:$Vv,76:$Vw,77:$Vx,78:$Vy,79:$Vz,80:$VA,81:$VB,82:$VC,83:$VD,84:$VE,85:$VF,86:$VG,87:$VH,88:$VI,89:$VJ,90:$VK,91:$VL,92:88,93:$VM,94:$VN,95:$VO,96:$V8},o($VW,[2,60]),{21:[1,116]},{21:[1,117]},o($VW,[2,65]),o($VW,[2,66]),o($VW,[2,67],{21:$VP}),o($VW,[2,68]),o($VW,[2,69]),o($VW,[2,70]),o($VW,[2,71]),o($VW,[2,72]),o($VW,[2,73]),o($VW,[2,74]),o($VW,[2,75]),o($VW,[2,76]),o($VW,[2,77]),o($VW,[2,78]),o($VW,[2,79]),o($VW,[2,80]),o($VW,[2,81]),o($VW,[2,82]),o($VW,[2,83]),o($VW,[2,84]),o($VW,[2,85]),o($VW,[2,86]),o($VW,[2,87]),{21:[1,118]},{21:[1,119]},o($VW,[2,92]),{16:68,21:$Vq,51:121,52:69,53:120,68:$Vr,69:63,70:$Vs,71:$Vt,72:66,73:67,74:$Vu,75:$Vv,76:$Vw,77:$Vx,78:$Vy,79:$Vz,80:$VA,81:$VB,82:$VC,83:$VD,84:$VE,85:$VF,86:$VG,87:$VH,88:$VI,89:$VJ,90:$VK,91:$VL,92:88,93:$VM,94:$VN,95:$VO,96:$V8},{56:[1,122]},o([56,59],[2,61],{63:$VR,64:$VS,65:$VT,66:$VU,67:$VV}),{59:[1,123]},{62:[1,124]},o([23,28,62],[2,62],{63:$VR,64:$VS,65:$VT,66:$VU,67:$VV}),{16:127,22:125,27:126,96:$V8},{16:43,26:128,36:$Vb,37:$Vc,38:$Vd,39:$Ve,40:$Vf,41:$Vg,42:$Vh,43:36,44:37,45:38,46:39,47:40,48:$Vi,50:$Vj,52:44,54:$Vk,58:$Vl,60:$Vm,96:$V8},{16:127,22:129,27:126,96:$V8},{15:[2,8]},{15:[2,9]},{9:[1,130],15:$Vn},{10:[1,131]},{10:[1,132]},{11:[1,133]},o($Vo,[2,25]),o($Vp,[2,41]),{16:68,21:$Vq,51:134,52:69,68:$Vr,69:63,70:$Vs,71:$Vt,72:66,73:67,74:$Vu,75:$Vv,76:$Vw,77:$Vx,78:$Vy,79:$Vz,80:$VA,81:$VB,82:$VC,83:$VD,84:$VE,85:$VF,86:$VG,87:$VH,88:$VI,89:$VJ,90:$VK,91:$VL,92:88,93:$VM,94:$VN,95:$VO,96:$V8},{16:68,21:$Vq,51:135,52:69,68:$Vr,69:63,70:$Vs,71:$Vt,72:66,73:67,74:$Vu,75:$Vv,76:$Vw,77:$Vx,78:$Vy,79:$Vz,80:$VA,81:$VB,82:$VC,83:$VD,84:$VE,85:$VF,86:$VG,87:$VH,88:$VI,89:$VJ,90:$VK,91:$VL,92:88,93:$VM,94:$VN,95:$VO,96:$V8},{16:68,21:$Vq,51:136,52:69,68:$Vr,69:63,70:$Vs,71:$Vt,72:66,73:67,74:$Vu,75:$Vv,76:$Vw,77:$Vx,78:$Vy,79:$Vz,80:$VA,81:$VB,82:$VC,83:$VD,84:$VE,85:$VF,86:$VG,87:$VH,88:$VI,89:$VJ,90:$VK,91:$VL,92:88,93:$VM,94:$VN,95:$VO,96:$V8},{16:68,21:$Vq,51:137,52:69,68:$Vr,69:63,70:$Vs,71:$Vt,72:66,73:67,74:$Vu,75:$Vv,76:$Vw,77:$Vx,78:$Vy,79:$Vz,80:$VA,81:$VB,82:$VC,83:$VD,84:$VE,85:$VF,86:$VG,87:$VH,88:$VI,89:$VJ,90:$VK,91:$VL,92:88,93:$VM,94:$VN,95:$VO,96:$V8},{16:68,21:$Vq,51:138,52:69,68:$Vr,69:63,70:$Vs,71:$Vt,72:66,73:67,74:$Vu,75:$Vv,76:$Vw,77:$Vx,78:$Vy,79:$Vz,80:$VA,81:$VB,82:$VC,83:$VD,84:$VE,85:$VF,86:$VG,87:$VH,88:$VI,89:$VJ,90:$VK,91:$VL,92:88,93:$VM,94:$VN,95:$VO,96:$V8},o($VW,[2,58]),{23:[1,139],63:$VR,64:$VS,65:$VT,66:$VU,67:$VV},{16:68,21:$Vq,51:97,52:69,61:140,68:$Vr,69:63,70:$Vs,71:$Vt,72:66,73:67,74:$Vu,75:$Vv,76:$Vw,77:$Vx,78:$Vy,79:$Vz,80:$VA,81:$VB,82:$VC,83:$VD,84:$VE,85:$VF,86:$VG,87:$VH,88:$VI,89:$VJ,90:$VK,91:$VL,92:88,93:$VM,94:$VN,95:$VO,96:$V8},{16:68,21:$Vq,51:97,52:69,61:141,68:$Vr,69:63,70:$Vs,71:$Vt,72:66,73:67,74:$Vu,75:$Vv,76:$Vw,77:$Vx,78:$Vy,79:$Vz,80:$VA,81:$VB,82:$VC,83:$VD,84:$VE,85:$VF,86:$VG,87:$VH,88:$VI,89:$VJ,90:$VK,91:$VL,92:88,93:$VM,94:$VN,95:$VO,96:$V8},{16:68,21:$Vq,51:97,52:69,61:142,68:$Vr,69:63,70:$Vs,71:$Vt,72:66,73:67,74:$Vu,75:$Vv,76:$Vw,77:$Vx,78:$Vy,79:$Vz,80:$VA,81:$VB,82:$VC,83:$VD,84:$VE,85:$VF,86:$VG,87:$VH,88:$VI,89:$VJ,90:$VK,91:$VL,92:88,93:$VM,94:$VN,95:$VO,96:$V8},{16:68,21:$Vq,51:97,52:69,61:143,68:$Vr,69:63,70:$Vs,71:$Vt,72:66,73:67,74:$Vu,75:$Vv,76:$Vw,77:$Vx,78:$Vy,79:$Vz,80:$VA,81:$VB,82:$VC,83:$VD,84:$VE,85:$VF,86:$VG,87:$VH,88:$VI,89:$VJ,90:$VK,91:$VL,92:88,93:$VM,94:$VN,95:$VO,96:$V8},{23:[1,144],28:[1,145]},o($VX,[2,48],{63:$VR,64:$VS,65:$VT,66:$VU,67:$VV}),{16:43,26:146,36:$Vb,37:$Vc,38:$Vd,39:$Ve,40:$Vf,41:$Vg,42:$Vh,43:36,44:37,45:38,46:39,47:40,48:$Vi,50:$Vj,52:44,54:$Vk,58:$Vl,60:$Vm,96:$V8},{16:43,26:147,36:$Vb,37:$Vc,38:$Vd,39:$Ve,40:$Vf,41:$Vg,42:$Vh,43:36,44:37,45:38,46:39,47:40,48:$Vi,50:$Vj,52:44,54:$Vk,58:$Vl,60:$Vm,96:$V8},{16:43,26:148,36:$Vb,37:$Vc,38:$Vd,39:$Ve,40:$Vf,41:$Vg,42:$Vh,43:36,44:37,45:38,46:39,47:40,48:$Vi,50:$Vj,52:44,54:$Vk,58:$Vl,60:$Vm,96:$V8},{23:[1,149]},{23:[2,17],28:[1,150]},o($VX,[2,18]),{15:[2,14]},{23:[1,151]},{10:[1,152]},{11:[1,153]},{11:[1,154]},{1:[2,4]},o([9,15,23,28,49,56,57,59,62,63],[2,53],{64:$VS,65:$VT,66:$VU,67:$VV}),o($VY,[2,54],{65:$VT,66:$VU,67:$VV}),o($VY,[2,55],{66:$VU,67:$VV}),o($VZ,[2,56]),o($VZ,[2,57]),o($VW,[2,59]),{23:[1,155]},{23:[1,156]},{23:[1,157],28:[1,158]},{23:[1,159],28:[1,160]},o($VW,[2,46]),{16:68,21:$Vq,51:161,52:69,68:$Vr,69:63,70:$Vs,71:$Vt,72:66,73:67,74:$Vu,75:$Vv,76:$Vw,77:$Vx,78:$Vy,79:$Vz,80:$VA,81:$VB,82:$VC,83:$VD,84:$VE,85:$VF,86:$VG,87:$VH,88:$VI,89:$VJ,90:$VK,91:$VL,92:88,93:$VM,94:$VN,95:$VO,96:$V8},o($Vo,[2,49],{57:[1,162]}),o($Vp,[2,51]),o($Vp,[2,52]),{15:[2,13]},{16:127,22:163,27:126,96:$V8},{25:[1,164]},{11:[1,165]},{1:[2,2]},{1:[2,3]},o($VW,[2,63]),o($VW,[2,64]),o($VW,[2,88]),{92:166,95:$VO},o($VW,[2,89]),{92:167,95:$VO},o($VX,[2,47],{63:$VR,64:$VS,65:$VT,66:$VU,67:$VV}),{16:43,26:168,36:$Vb,37:$Vc,38:$Vd,39:$Ve,40:$Vf,41:$Vg,42:$Vh,43:36,44:37,45:38,46:39,47:40,48:$Vi,50:$Vj,52:44,54:$Vk,58:$Vl,60:$Vm,96:$V8},{23:[2,16]},{16:43,26:169,36:$Vb,37:$Vc,38:$Vd,39:$Ve,40:$Vf,41:$Vg,42:$Vh,43:36,44:37,45:38,46:39,47:40,48:$Vi,50:$Vj,52:44,54:$Vk,58:$Vl,60:$Vm,96:$V8},{1:[2,1]},{23:[1,170]},{23:[1,171]},o($Vp,[2,50]),{15:[2,15]},o($VW,[2,90]),o($VW,[2,91])],defaultActions:{13:[2,22],14:[2,23],15:[2,24],16:[2,19],17:[2,20],18:[2,21],101:[2,8],102:[2,9],128:[2,14],133:[2,4],149:[2,13],153:[2,2],154:[2,3],163:[2,16],165:[2,1],169:[2,15]},parseError:function(str,hash){if(!hash.recoverable){var error=new Error(str);throw error.hash=hash,error}this.trace(str)},parse:function(input){var self=this,stack=[0],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,args=lstack.slice.call(arguments,1),lexer=Object.create(this.lexer),sharedState={yy:{}};for(var k in this.yy)Object.prototype.hasOwnProperty.call(this.yy,k)&&(sharedState.yy[k]=this.yy[k]);lexer.setInput(input,sharedState.yy),sharedState.yy.lexer=lexer,sharedState.yy.parser=this,void 0===lexer.yylloc&&(lexer.yylloc={});var yyloc=lexer.yylloc;lstack.push(yyloc);var ranges=lexer.options&&lexer.options.ranges;"function"==typeof sharedState.yy.parseError?this.parseError=sharedState.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var symbol,state,action,r,p,len,newState,expected,token,yyval={};;){if(state=stack[stack.length-1],this.defaultActions[state]?action=this.defaultActions[state]:(null==symbol&&(token=void 0,"number"!=typeof(token=lexer.lex()||1)&&(token=self.symbols_[token]||token),symbol=token),action=table[state]&&table[state][symbol]),void 0===action||!action.length||!action[0]){var errStr="";for(p in expected=[],table[state])this.terminals_[p]&&p>2&&expected.push("'"+this.terminals_[p]+"'");errStr=lexer.showPosition?"Parse error on line "+(yylineno+1)+":\n"+lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'":"Parse error on line "+(yylineno+1)+": Unexpected "+(1==symbol?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'"),this.parseError(errStr,{text:lexer.match,token:this.terminals_[symbol]||symbol,line:lexer.yylineno,loc:lexer.yylloc,expected:expected})}if(action[0]instanceof Array&&action.length>1)throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol);switch(action[0]){case 1:stack.push(symbol),vstack.push(lexer.yytext),lstack.push(lexer.yylloc),stack.push(action[1]),symbol=null,yyleng=lexer.yyleng,yytext=lexer.yytext,yylineno=lexer.yylineno,yyloc=lexer.yylloc;break;case 2:if(len=this.productions_[action[1]][1],yyval.$=vstack[vstack.length-len],yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column},ranges&&(yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]),void 0!==(r=this.performAction.apply(yyval,[yytext,yyleng,yylineno,sharedState.yy,action[1],vstack,lstack].concat(args))))return r;len&&(stack=stack.slice(0,-1*len*2),vstack=vstack.slice(0,-1*len),lstack=lstack.slice(0,-1*len)),stack.push(this.productions_[action[1]][0]),vstack.push(yyval.$),lstack.push(yyval._$),newState=table[stack[stack.length-2]][stack[stack.length-1]],stack.push(newState);break;case 3:return!0}}return!0}};const COMPILER="RKP 1.0.0",LANG="ReKarel Pascal",VarsAsFuncs=!0,reqsPrototypes=!1;let tagCnt=1;function UniqueTag(tag){return`${tag}.${tagCnt++}`}function resetCompiler(tag){tagCnt=1}function locToIR(loc){return["LINE",loc.first_line-1,loc.first_column]}var lexer={EOF:1,parseError:function(str,hash){if(!this.yy.parser)throw new Error(str);this.yy.parser.parseError(str,hash)},setInput:function(input,yy){return this.yy=yy||this.yy||{},this._input=input,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ch=this._input[0];return this.yytext+=ch,this.yyleng++,this.offset++,this.match+=ch,this.matched+=ch,ch.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ch},unput:function(ch){var len=ch.length,lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-len),this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),lines.length-1&&(this.yylineno-=lines.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-len]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;return next.length<20&&(next+=this._input.substr(0,20-next.length)),(next.substr(0,20)+(next.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput(),c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},test_match:function(match,indexed_rule){var token,lines,backup;if(this.options.backtrack_lexer&&(backup={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(backup.yylloc.range=this.yylloc.range.slice(0))),(lines=match[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=lines.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length},this.yytext+=match[0],this.match+=match[0],this.matches=match,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(match[0].length),this.matched+=match[0],token=this.performAction.call(this,this.yy,this,indexed_rule,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),token)return token;if(this._backtrack){for(var k in backup)this[k]=backup[k];return!1}return!1},next:function(){if(this.done)return this.EOF;var token,match,tempMatch,index;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var rules=this._currentRules(),i=0;i<rules.length;i++)if((tempMatch=this._input.match(this.rules[rules[i]]))&&(!match||tempMatch[0].length>match[0].length)){if(match=tempMatch,index=i,this.options.backtrack_lexer){if(!1!==(token=this.test_match(tempMatch,rules[i])))return token;if(this._backtrack){match=!1;continue}return!1}if(!this.options.flex)break}return match?!1!==(token=this.test_match(match,rules[index]))&&token:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var r=this.next();return r||this.lex()},begin:function(condition){this.conditionStack.push(condition)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(n){return(n=this.conditionStack.length-1-Math.abs(n||0))>=0?this.conditionStack[n]:"INITIAL"},pushState:function(condition){this.begin(condition)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(yy,yy_,$avoiding_name_collisions,YY_START){switch($avoiding_name_collisions){case 0:case 1:case 2:break;case 3:return 5;case 4:case 5:return 7;case 6:case 7:return 9;case 8:return 10;case 9:case 10:case 11:return 31;case 12:return 13;case 13:case 14:return 34;case 15:case 16:return 32;case 17:case 18:return 29;case 19:case 20:return 33;case 21:case 22:return 30;case 23:case 24:case 25:return 50;case 26:return 25;case 27:case 28:return 40;case 29:return 37;case 30:return 36;case 31:return 38;case 32:return 39;case 33:case 34:return 41;case 35:return 42;case 36:return 48;case 37:return 49;case 38:return 56;case 39:return 58;case 40:return 59;case 41:return 60;case 42:return 62;case 43:return 94;case 44:return 93;case 45:case 46:return 70;case 47:return 71;case 48:return 74;case 49:return 75;case 50:return 76;case 51:return 77;case 52:return 78;case 53:return 79;case 54:return 80;case 55:return 81;case 56:case 57:return 82;case 58:case 59:return 83;case 60:return 85;case 61:return 87;case 62:return 86;case 63:return 84;case 64:return 89;case 65:return 91;case 66:return 90;case 67:return 88;case 68:case 69:return 57;case 70:return 54;case 71:return 68;case 72:case 73:return 63;case 74:case 75:return 64;case 76:return 21;case 77:return 23;case 78:return 15;case 79:return 17;case 80:return 28;case 81:return 18;case 82:return 65;case 83:return 67;case 84:return 66;case 85:return 95;case 86:return 96;case 87:return 11;case 88:console.log(yy_.yytext)}},rules:[/^(?:\s+)/i,/^(?:\{[^}]*\})/i,/^(?:\(\*(?:[^*]|\*(?!\)))*\*\))/i,/^(?:iniciar-programa)/i,/^(?:inicia-ejecucion)/i,/^(?:inicia-ejecución)/i,/^(?:termina-ejecucion)/i,/^(?:termina-ejecución)/i,/^(?:finalizar-programa)/i,/^(?:define-nueva-instruccion)/i,/^(?:define-nueva-instrucción)/i,/^(?:define)/i,/^(?:usa)/i,/^(?:define-prototipo-instruccion)/i,/^(?:define-prototipo-instrucción)/i,/^(?:define-prototipo-calculo)/i,/^(?:define-prototipo-cálculo)/i,/^(?:define-calculo)/i,/^(?:define-cálculo)/i,/^(?:define-prototipo-condicion)/i,/^(?:define-prototipo-condición)/i,/^(?:define-condicion)/i,/^(?:define-condición)/i,/^(?:sal-de-instruccion)/i,/^(?:sal-de-instrucción)/i,/^(?:regresa)/i,/^(?:como)/i,/^(?:apagate)/i,/^(?:apágate)/i,/^(?:gira-izquierda)/i,/^(?:avanza)/i,/^(?:coge-zumbador)/i,/^(?:deja-zumbador)/i,/^(?:continua)/i,/^(?:continúa)/i,/^(?:rompe)/i,/^(?:inicio)/i,/^(?:fin)/i,/^(?:entonces)/i,/^(?:mientras)/i,/^(?:hacer)/i,/^(?:repetir)/i,/^(?:veces)/i,/^(?:precede)/i,/^(?:sucede)/i,/^(?:si-es-cero)/i,/^(?:es-cero)/i,/^(?:es-infinito)/i,/^(?:frente-libre)/i,/^(?:frente-bloqueado)/i,/^(?:izquierda-libre)/i,/^(?:izquierda-bloqueada)/i,/^(?:derecha-libre)/i,/^(?:derecha-bloqueada)/i,/^(?:junto-a-zumbador)/i,/^(?:no-junto-a-zumbador)/i,/^(?:algun-zumbador-en-la-mochila)/i,/^(?:algún-zumbador-en-la-mochila)/i,/^(?:ningun-zumbador-en-la-mochila)/i,/^(?:ningún-zumbador-en-la-mochila)/i,/^(?:orientado-al-norte)/i,/^(?:orientado-al-sur)/i,/^(?:orientado-al-este)/i,/^(?:orientado-al-oeste)/i,/^(?:no-orientado-al-norte)/i,/^(?:no-orientado-al-sur)/i,/^(?:no-orientado-al-este)/i,/^(?:no-orientado-al-oeste)/i,/^(?:sino)/i,/^(?:si-no)/i,/^(?:si)/i,/^(?:no)/i,/^(?:o)/i,/^(?:u)/i,/^(?:y)/i,/^(?:e)/i,/^(?:\()/i,/^(?:\))/i,/^(?:;)/i,/^(?:\.)/i,/^(?:,)/i,/^(?:\*)/i,/^(?:==)/i,/^(?:<=)/i,/^(?:<)/i,/^(?:[0-9]+)/i,/^(?:[A-Za-zÀ-ÖØ-öø-ÿ_][A-Za-zÀ-ÖØ-öø-ÿ0-9_-]*)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88],inclusive:!0}}};function Parser(){this.yy={}}return parser.lexer=lexer,Parser.prototype=parser,parser.Parser=Parser,new Parser}();function UnitePackages(packages){const booleans=new Map,numbers=new Map;for(const pack of packages)pack.numberVariables.forEach(((value,key,_)=>{numbers.set(key,value)})),pack.booleanVariables.forEach(((value,key,_)=>{booleans.set(key,value)}));return{booleanVariables:booleans,numberVariables:numbers}}const javaNumbers=new Map,javaBooleans=new Map;javaNumbers.set("beepersInBeeperBag",[["BAGBUZZERS"]]),javaNumbers.set("beepersOnFloor",[["WORLDBUZZERS"]]),javaNumbers.set("currentRow",[["ROW"]]),javaNumbers.set("currentColumn",[["COLUMN"]]),javaBooleans.set("true",[["LOAD",1]]),javaBooleans.set("false",[["LOAD",0]]);const rekarelGlobalsJava={booleanVariables:javaBooleans,numberVariables:javaNumbers},pascalNumbers=new Map,pascalBooleans=new Map;pascalNumbers.set("zumbadores-en-la-mochila",[["BAGBUZZERS"]]),pascalNumbers.set("zumbadores-del-piso",[["WORLDBUZZERS"]]),pascalNumbers.set("columna-actual",[["COLUMN"]]),pascalNumbers.set("fila-actual",[["ROW"]]),pascalBooleans.set("verdadero",[["LOAD",1]]),pascalBooleans.set("falso",[["LOAD",0]]);const rekarelGlobalsPascal={booleanVariables:pascalBooleans,numberVariables:pascalNumbers},JavaPackages={"rekarel.globals":rekarelGlobalsJava,"rekarel.*":UnitePackages([rekarelGlobalsJava])},PascalPackages={"rekarel.globales":rekarelGlobalsPascal,"rekarel.*":UnitePackages([rekarelGlobalsPascal])};class DefinitionTable{constructor(variablesCanBeFunctions){this.functions=new Map,this.variables=new Map,this.variablesCanBeFunctions=variablesCanBeFunctions,this.tagCounter=0}getType(identifier){return this.variables.has(identifier)?this.variables.get(identifier).dataType:this.functions.has(identifier)?this.functions.get(identifier).returnType:"undefined"}registerFunction(func){this.functions.set(func.name,{arguments:func.params,location:0,returnType:func.returnType})}hasFunction(name){return this.functions.has(name)}getFunction(name){return this.functions.get(name)}setFunctionLoc(target,location){this.functions.get(target).location=location}registerVar(name,val){this.variables.set(name,val)}hasVar(name){return this.variables.has(name)}getVar(name){return this.variables.get(name)}getUniqueTag(name){return`${name}.${this.tagCounter++}`}}var KarelNumbers,CompilationError;function resolveTerm(tree,definitions,scope,target,tags,yy){if("ATOM"===tree.operation){resolveListWithASTs(tree.instructions,definitions,scope,target,tags,yy);const atomData=tree.atomType.split("#");if(atomData.length>1&&("NUMBER"===atomData[0]||"INC"===atomData[0]||"DEC"===atomData[0])){const literal=atomData[1];(literal.length>KarelNumbers.maximum.toString().length||Number(literal)>KarelNumbers.maximum)&&yy.parser.parseError(`The number is to large. It must not exceed ${KarelNumbers.maximum}, but it is ${literal}`,{error:CompilationError.Errors.NUMBER_TOO_LARGE,line:tree.loc.first_line-1,loc:tree.loc})}if(tree.dataType.startsWith("$")){const termType=tree.dataType.substring(1);return scope.parameters.some((e=>e.name===termType))?"INT":definitions.getType(tree.dataType.substring(1))}return tree.dataType}if("AND"===tree.operation||"OR"===tree.operation){const leftType=resolveTerm(tree.left,definitions,scope,target,tags,yy);target.push(["DUP"]),"OR"===tree.operation&&target.push(["NOT"]);const shortCircuit=definitions.getUniqueTag("shortCircuit");target.push(["TJZ",shortCircuit]);const rightType=resolveTerm(tree.right,definitions,scope,target,tags,yy);return"BOOL"!==leftType&&yy.parser.parseError(`${tree.operation} operator uses booleans terms only, left is of type: ${leftType}`,{error:CompilationError.Errors.BINARY_OPERATOR_TYPE_ERROR,operator:tree.operation,loc:tree.loc,line:tree.loc.first_line-1,expectedType:"BOOL",actualType:leftType,direction:"LEFT"}),"BOOL"!==rightType&&yy.parser.parseError(`${tree.operation} operator uses booleans terms only, right is of type: ${rightType}`,{error:CompilationError.Errors.BINARY_OPERATOR_TYPE_ERROR,operator:tree.operation,loc:tree.loc,line:tree.loc.first_line-1,expectedType:"BOOL",actualType:rightType,direction:"RIGHT"}),target.push([tree.operation]),resolveListWithASTs([["TAG",shortCircuit]],definitions,scope,target,tags,yy),tree.dataType}if("EQ"===tree.operation){const leftType=resolveTerm(tree.left,definitions,scope,target,tags,yy),rightType=resolveTerm(tree.right,definitions,scope,target,tags,yy);return leftType!==rightType&&yy.parser.parseError(`An equality comparison cannot be performed between type ${leftType} and ${rightType}`,{error:CompilationError.Errors.COMPARISON_TYPE,loc:tree.loc,line:tree.loc.first_line-1,leftType:leftType,rightType:rightType}),"VOID"===leftType&&yy.parser.parseError("An equality comparison cannot be performed on VOID",{error:CompilationError.Errors.VOID_COMPARISON,loc:tree.loc,line:tree.loc.first_line-1,leftType:leftType,rightType:rightType}),target.push([tree.operation]),tree.dataType}if("LT"===tree.operation||"LTE"===tree.operation){const leftType=resolveTerm(tree.left,definitions,scope,target,tags,yy),rightType=resolveTerm(tree.right,definitions,scope,target,tags,yy);return"INT"!==leftType&&yy.parser.parseError(`${tree.operation} operator uses integer terms only, left is of type: ${leftType}`,{error:CompilationError.Errors.BINARY_OPERATOR_TYPE_ERROR,loc:tree.loc,operator:tree.operation,line:tree.loc.first_line-1,direction:"LEFT",expectedType:"INT",actualType:leftType}),"INT"!==rightType&&yy.parser.parseError(`${tree.operation} operator uses integer terms only, right is of type: ${rightType}`,{error:CompilationError.Errors.BINARY_OPERATOR_TYPE_ERROR,loc:tree.loc,operator:tree.operation,direction:"RIGHT",line:tree.loc.first_line-1,expectedType:"INT",actualType:rightType}),target.push([tree.operation]),tree.dataType}if("NOT"===tree.operation){const termType=resolveTerm(tree.term,definitions,scope,target,tags,yy);return"BOOL"!==termType&&yy.parser.parseError(`${tree.operation} operator uses a boolean terms only, but tried to negate a term of type: ${termType}`,{error:CompilationError.Errors.UNARY_OPERATOR_TYPE_ERROR,loc:tree.loc,operator:tree.operation,line:tree.loc.first_line-1,expectedType:"BOOL",actualType:termType}),target.push([tree.operation]),tree.dataType}if("PASS"===tree.operation){const termType=resolveTerm(tree.term,definitions,scope,target,tags,yy);return termType!==tree.dataType&&yy.parser.parseError(`Expected a term of type ${tree.dataType}, but got ${termType}`,{error:CompilationError.Errors.TYPE_ERROR,loc:tree.totalLoc,line:tree.totalLoc.first_line-1,expectedType:tree.dataType,actualType:termType}),tree.dataType}if("PARENTHESIS"===tree.operation){return resolveTerm(tree.term,definitions,scope,target,tags,yy)}}function resolveVar(data,definitions,scope,target,yy){const parameterIdx=scope.parameters.findIndex((e=>data.target===e.name));if(-1===parameterIdx)if(definitions.hasVar(data.target)){const IRs=definitions.getVar(data.target).instructions;for(const instruction of IRs)target.push(instruction)}else{if(data.couldBeFunction)return resolveCall$2({nameLoc:data.loc,params:[],target:data.target,expectedType:data.expectedType},definitions,scope,target,{},yy),void target.push(["LRET"]);yy.parser.parseError("Unknown variable or parameter: "+data.target,{error:CompilationError.Errors.UNKNOWN_VARIABLE,variable:data.target,line:data.loc.first_line-1,loc:data.loc})}else target.push(["PARAM",scope.parameters.length-parameterIdx-1])}function resolveCall$2(data,definitions,scope,target,tags,yy){for(const parameter of data.params)resolveTerm(parameter,definitions,scope,target,tags,yy);if(target.push(["LOAD",data.params.length]),target.push(["LINE",data.nameLoc.first_line-1,data.nameLoc.first_column]),!definitions.hasFunction(data.target))return yy.parser.parseError("Undefined function: "+data.target,{error:CompilationError.Errors.UNDEFINED_FUNCTION,functionName:data.target,line:data.nameLoc.first_line-1,loc:data.nameLoc}),null;target.push(["CALL",data]),target.push(["LINE",data.nameLoc.first_line-1,data.nameLoc.first_column+data.target.length])}function resolveReturn(data,definitions,scope,target,tags,yy){const retType=resolveTerm(data.term,definitions,scope,target,tags,yy);scope.expectedReturn!==retType&&yy.parser.parseError(`Cannot return a type: ${retType}, in a function of type: ${scope.expectedReturn}`,{error:CompilationError.Errors.RETURN_TYPE,line:data.loc.first_line-1,loc:data.loc,expectedType:scope.expectedReturn,actualType:retType}),target.push(["SRET"]),target.push(["LINE",data.loc.first_line-1,data.loc.first_column]),target.push(["RET",data])}function resolveRepeat(data,definitions,scope,target,tags,yy){target.push(data.line),resolveTerm(data.loopCount[1],definitions,scope,target,tags,yy),resolveListWithASTs([["TAG",data.repeatTag],["DUP"],["LOAD",0],["LTE"],["NOT"],["TJZ",data.endTag]],definitions,scope,target,tags,yy);const loopScope=scope.withContinueBreakTarget(data.continueTag,data.endTag);resolveListWithASTs(data.instructions,definitions,loopScope,target,tags,yy),resolveListWithASTs([["TAG",data.continueTag],["DEC",1],["TJMP",data.repeatTag],["TAG",data.endTag],["POP"]],definitions,scope,target,tags,yy)}function resolveWhile(data,definitions,scope,target,tags,yy){resolveListWithASTs([["TAG",data.repeatTag]],definitions,scope,target,tags,yy),target.push(data.line),resolveTerm(data.condition[1],definitions,scope,target,tags,yy),resolveListWithASTs([["TJZ",data.endTag]],definitions,scope,target,tags,yy);const whileScope=scope.withContinueBreakTarget(data.repeatTag,data.endTag);resolveListWithASTs(data.instructions,definitions,whileScope,target,tags,yy),resolveListWithASTs([["TJMP",data.repeatTag],["TAG",data.endTag]],definitions,scope,target,tags,yy)}function resolveConditional(data,definitions,scope,target,tags,yy){let trueReturns=!1,falseReturns=!1;return target.push(data.line),resolveTerm(data.condition[1],definitions,scope,target,tags,yy),resolveListWithASTs([["TJZ",data.skipTrueTag]],definitions,scope,target,tags,yy),trueReturns=resolveListWithASTs(data.trueCase,definitions,scope,target,tags,yy).explicitReturn,data.skipFalseTag&&resolveListWithASTs([["TJMP",data.skipFalseTag]],definitions,scope,target,tags,yy),resolveListWithASTs([["TAG",data.skipTrueTag]],definitions,scope,target,tags,yy),data.skipFalseTag&&data.falseCase&&(falseReturns=resolveListWithASTs(data.falseCase,definitions,scope,target,tags,yy).explicitReturn,resolveListWithASTs([["TAG",data.skipFalseTag]],definitions,scope,target,tags,yy)),{explicitReturn:trueReturns&&falseReturns}}function resolveListWithASTs(IRInstructions,definitions,scope,target,tags,yy){const info={explicitReturn:!1};for(const instruction of IRInstructions)if("VAR"!==instruction[0])if("FORWARD"!==instruction[0])if("PICKBUZZER"!==instruction[0])if("LEAVEBUZZER"!==instruction[0])if("TERM"!==instruction[0])if("TAG"!==instruction[0])if("CALL"!==instruction[0])if("RET"!==instruction[0])if("REPEAT"!==instruction[0])if("WHILE"!==instruction[0])if("IF"!==instruction[0])"CONTINUE"!==instruction[0]?"BREAK"!==instruction[0]?target.push(instruction):(null==scope.breakTarget&&yy.parser.parseError("Cannot use break in this scope",{error:CompilationError.Errors.ILLEGAL_BREAK,loc:instruction[1],line:instruction[1].first_line-1}),target.push(["TJMP",scope.breakTarget])):(null==scope.continueTarget&&yy.parser.parseError("Cannot use continue in this scope",{error:CompilationError.Errors.ILLEGAL_CONTINUE,loc:instruction[1],line:instruction[1].first_line-1}),target.push(["TJMP",scope.continueTarget]));else{resolveConditional(instruction[1],definitions,scope,target,tags,yy).explicitReturn&&(info.explicitReturn=!0)}else resolveWhile(instruction[1],definitions,scope,target,tags,yy);else resolveRepeat(instruction[1],definitions,scope,target,tags,yy);else{if("__DEFAULT"===instruction[1]){target.push(["LOAD",0]),target.push(["SRET"]),target.push(["LINE",instruction[2].first_line-1,instruction[2].first_column]),target.push(instruction);continue}resolveReturn(instruction[1],definitions,scope,target,tags,yy),info.explicitReturn=!0}else resolveCall$2(instruction[1],definitions,scope,target,tags,yy);else tags[instruction[1]]=target.length;else resolveTerm(instruction[1],definitions,scope,target,tags,yy);else target.push(["BAGBUZZERS"]),target.push(["EZ","BAGUNDERFLOW"]),target.push(instruction);else target.push(["WORLDBUZZERS"]),target.push(["EZ","WORLDUNDERFLOW"]),target.push(instruction);else target.push(["WORLDWALLS"]),target.push(["ORIENTATION"]),target.push(["MASK"]),target.push(["AND"]),target.push(["NOT"]),target.push(["EZ","WALL"]),target.push(instruction);else resolveVar(instruction[1],definitions,scope,target,yy);return info}!function(KarelNumbers){KarelNumbers.minimum=-999999999,KarelNumbers.maximum=999999999,KarelNumbers.a_infinite=1000000005,KarelNumbers.isInfinite=function(x){return x>KarelNumbers.maximum}}(KarelNumbers||(KarelNumbers={})),function(CompilationError){var Errors;(Errors=CompilationError.Errors||(CompilationError.Errors={}))[Errors.BINARY_OPERATOR_TYPE_ERROR=0]="BINARY_OPERATOR_TYPE_ERROR",Errors[Errors.CALL_TYPE=1]="CALL_TYPE",Errors[Errors.COMPARISON_TYPE=2]="COMPARISON_TYPE",Errors[Errors.FUNCTION_ILLEGAL_NAME=3]="FUNCTION_ILLEGAL_NAME",Errors[Errors.FUNCTION_REDEFINITION=4]="FUNCTION_REDEFINITION",Errors[Errors.ILLEGAL_BREAK=5]="ILLEGAL_BREAK",Errors[Errors.ILLEGAL_CONTINUE=6]="ILLEGAL_CONTINUE",Errors[Errors.NO_EXPLICIT_RETURN=7]="NO_EXPLICIT_RETURN",Errors[Errors.NUMBER_TOO_LARGE=8]="NUMBER_TOO_LARGE",Errors[Errors.PARAMETER_ILLEGAL_NAME=9]="PARAMETER_ILLEGAL_NAME",Errors[Errors.PARAMETER_REDEFINITION=10]="PARAMETER_REDEFINITION",Errors[Errors.PROTOTYPE_PARAMETERS_MISS_MATCH=11]="PROTOTYPE_PARAMETERS_MISS_MATCH",Errors[Errors.PROTOTYPE_TYPE_MISS_MATCH=12]="PROTOTYPE_TYPE_MISS_MATCH",Errors[Errors.PROTOTYPE_REDEFINITION=13]="PROTOTYPE_REDEFINITION",Errors[Errors.RETURN_TYPE=14]="RETURN_TYPE",Errors[Errors.TOO_FEW_PARAMS_IN_CALL=15]="TOO_FEW_PARAMS_IN_CALL",Errors[Errors.TOO_MANY_PARAMS_IN_CALL=16]="TOO_MANY_PARAMS_IN_CALL",Errors[Errors.TYPE_ERROR=17]="TYPE_ERROR",Errors[Errors.UNDEFINED_FUNCTION=18]="UNDEFINED_FUNCTION",Errors[Errors.UNDEFINED_FUNCTION_OR_VARIABLE=19]="UNDEFINED_FUNCTION_OR_VARIABLE",Errors[Errors.UNARY_OPERATOR_TYPE_ERROR=20]="UNARY_OPERATOR_TYPE_ERROR",Errors[Errors.UNKNOWN_MODULE=21]="UNKNOWN_MODULE",Errors[Errors.UNKNOWN_PACKAGE=22]="UNKNOWN_PACKAGE",Errors[Errors.UNKNOWN_SYNTAX=23]="UNKNOWN_SYNTAX",Errors[Errors.UNKNOWN_VARIABLE=24]="UNKNOWN_VARIABLE",Errors[Errors.VOID_COMPARISON=25]="VOID_COMPARISON"}(CompilationError||(CompilationError={}));class Scope{constructor(data){this.parameters=data.parameters,this.expectedReturn=data.expectedReturn,this.continueTarget=data.continueTarget,this.breakTarget=data.breakTarget}withContinueTarget(continueTarget){return new Scope({parameters:this.parameters,expectedReturn:this.expectedReturn,continueTarget:continueTarget,breakTarget:this.breakTarget})}withBreakTarget(breakTarget){return new Scope({parameters:this.parameters,expectedReturn:this.expectedReturn,continueTarget:this.continueTarget,breakTarget:breakTarget})}withContinueBreakTarget(continueTarget,breakTarget){return new Scope({parameters:this.parameters,expectedReturn:this.expectedReturn,continueTarget:continueTarget,breakTarget:breakTarget})}}const MAIN_SCOPE=new Scope({expectedReturn:"VOID",parameters:[]});class DebugData{}function resolveComplexIR(IRInstructions,yy,definitions,scope,func){let result=[];const tags={};let info=resolveListWithASTs(IRInstructions,definitions,scope,result,tags,yy);return"VOID"===scope.expectedReturn||info.explicitReturn||yy.parser.parseError(`Explicit return is required in function ${func.name}`,{error:CompilationError.Errors.NO_EXPLICIT_RETURN,loc:func.loc,line:func.loc.first_line-1,functionName:func.name,returnType:scope.expectedReturn}),result.map(((instruction,idx)=>{if("TJMP"===instruction[0]){return["JMP",tags[instruction[1]]-idx-1]}if("TJZ"===instruction[0]){return["JZ",tags[instruction[1]]-idx-1]}return instruction}))}function generateOpcodesFromIR(data,exportDebug){const definitions=new DefinitionTable(data.variablesCanBeFunctions),debugData=new DebugData;if(function(data,definitions){const compPackages="ReKarel Java"===data.language?JavaPackages:PascalPackages,yy=data.yy;for(const pack of data.packages){const packageName=pack[0].split(".")[0],moduleName=pack[0].split(".")[1];"rekarel"!==packageName&&yy.parser.parseError("Package not recognized: "+pack[0],{error:CompilationError.Errors.UNKNOWN_PACKAGE,package:packageName,module:moduleName,full:pack[0],loc:pack[1],line:pack[1].first_line-1}),compPackages[pack[0]]||yy.parser.parseError("Module not found: "+pack[0],{error:CompilationError.Errors.UNKNOWN_MODULE,package:packageName,module:moduleName,full:pack[0],loc:pack[1],line:pack[1].first_line-1});const packObject=compPackages[pack[0]];for(let[varName,varVal]of packObject.numberVariables)definitions.registerVar(varName,{instructions:varVal,dataType:"INT"});for(let[varName,varVal]of packObject.booleanVariables)definitions.registerVar(varName,{instructions:varVal,dataType:"BOOL"})}}(data,definitions),!function(data,definitionTable){const yy=data.yy,prototypes=new Map;for(const func of data.functions){for(const parameter of func.params)if(definitionTable.hasVar(parameter.name))return yy.parser.parseError("Cannot name a parameter as a global variable",{error:CompilationError.Errors.PARAMETER_ILLEGAL_NAME,parameterName:parameter.name,line:parameter.loc.first_line-1,loc:parameter.loc}),!1;if(definitionTable.hasVar(func.name))return yy.parser.parseError("Cannot name a function as a global variable",{error:CompilationError.Errors.FUNCTION_ILLEGAL_NAME,functionName:func.name,line:func.loc.first_line-1,loc:func.loc}),!1;if(null==func.code){if(prototypes.has(func.name))return yy.parser.parseError("Prototype redefinition: "+func.name,{error:CompilationError.Errors.PROTOTYPE_REDEFINITION,prototypeName:func.name,line:func.loc.first_line-1,loc:func.loc}),!1;prototypes.set(func.name,{argCount:func.params.length,defined:!1,returnType:func.returnType});continue}prototypes.has(func.name)||prototypes.set(func.name,{argCount:func.params.length,defined:!1,returnType:func.returnType});const proto=prototypes.get(func.name);if(proto.defined)return yy.parser.parseError("Function redefinition: "+func.name,{error:CompilationError.Errors.FUNCTION_REDEFINITION,functionName:func.name,line:func.loc.first_line-1,loc:func.loc}),!1;if(proto.argCount!==func.params.length)return yy.parser.parseError("Prototype parameter mismatch: "+func.name,{error:CompilationError.Errors.PROTOTYPE_PARAMETERS_MISS_MATCH,line:func.loc.first_line-1,loc:func.loc,functionName:func.name,functionParamCount:func.params.length,prototypeParamCount:proto.argCount}),!1;if(proto.returnType!==func.returnType)return yy.parser.parseError("Prototype type mismatch: "+func.name,{error:CompilationError.Errors.PROTOTYPE_TYPE_MISS_MATCH,line:func.loc.first_line-1,loc:func.loc,functionName:func.name,functionType:func.returnType,prototypeType:proto.returnType}),!1;prototypes.set(func.name,{argCount:func.params.length,defined:!0,returnType:func.returnType}),definitionTable.registerFunction(func);for(const instruction of func.code)if(data.requieresFunctionPrototypes&&"CALL"===instruction[0]){const data=instruction[1];if(!prototypes.has(data.target))return yy.parser.parseError("Undefined function: "+data.target,{error:CompilationError.Errors.UNDEFINED_FUNCTION,functionName:data.target,line:data.nameLoc.first_line-1,loc:data.nameLoc}),!1}}for(const func of data.functions)func.params.forEach(((param,idx)=>{(definitionTable.hasVar(param.name)||definitionTable.hasFunction(param.name))&&yy.parser.parseError(`Cannot name parameter ${param.name} as it is already used by a variable or function`,{error:CompilationError.Errors.PARAMETER_ILLEGAL_NAME,line:param.loc.first_line-1,loc:param.loc,parameterName:param.name}),func.params.findIndex((p=>p.name===param.name))!==idx&&yy.parser.parseError(`Parameter ${param.name} was already declared in the function`,{error:CompilationError.Errors.PARAMETER_REDEFINITION,line:param.loc.first_line-1,loc:param.loc,parameterName:param.name})}));return!0}(data,definitions))throw new Error("This should not be reachable, it should have thrown before");let IRProgram=resolveComplexIR(data.program,data.yy,definitions,MAIN_SCOPE);for(const func of data.functions){if(null==func.code)continue;definitions.setFunctionLoc(func.name,IRProgram.length);const functionScope=new Scope({parameters:func.params,expectedReturn:func.returnType}),code=resolveComplexIR(func.code,data.yy,definitions,functionScope,func);IRProgram=IRProgram.concat(code)}const program=[];for(const instruction of IRProgram)if("CALL"!==instruction[0])"RET"!==instruction[0]?program.push(instruction):program.push(["RET"]);else{const iData=instruction[1];if(!definitions.hasFunction(iData.target))return data.yy.parser.parseError("Undefined function: "+iData.target,{error:CompilationError.Errors.UNDEFINED_FUNCTION,functionName:iData.target,line:iData.nameLoc.first_line-1,loc:iData.nameLoc}),null;const targetFunc=definitions.getFunction(iData.target);if(targetFunc.arguments.length<iData.params.length){const extraParam=iData.params[iData.params.length-targetFunc.arguments.length-1];data.yy.parser.parseError(`Too many parameters in call to function ${iData.target}, expected ${targetFunc.arguments.length}, got ${iData.params.length}`,{error:CompilationError.Errors.TOO_MANY_PARAMS_IN_CALL,line:extraParam.totalLoc.first_line-1,loc:extraParam.totalLoc,functionName:iData.target,expectedParams:iData.params.length,actualParams:targetFunc.arguments.length})}targetFunc.arguments.length>iData.params.length&&data.yy.parser.parseError(`Too few parameters in call to function ${iData.target}, expected ${targetFunc.arguments.length}, got ${iData.params.length}`,{error:CompilationError.Errors.TOO_FEW_PARAMS_IN_CALL,line:iData.nameLoc.first_line-1,loc:iData.nameLoc,funcName:iData.target,expectedParams:iData.params.length,actualParams:targetFunc.arguments.length}),null!=iData.expectedType&&iData.expectedType!==targetFunc.returnType&&data.yy.parser.parseError(`Expected a function of type ${iData.expectedType}, but ${iData.target} is ${targetFunc.returnType}`,{error:CompilationError.Errors.CALL_TYPE,line:iData.nameLoc.first_line-1,loc:iData.nameLoc,funcName:iData.target,expectedCallType:iData.expectedType,functionType:targetFunc.returnType}),program.push(["CALL",targetFunc.location,iData.target])}return exportDebug?(debugData.definitions=definitions,[program,debugData]):[program,null]}const javaParser=function(){return kareljava.parse.apply(kareljava,arguments)},pascalParser=function(){return karelpascal.parse.apply(karelpascal,arguments)};function javaCompiler(code,exportDebug=!1){return generateOpcodesFromIR(javaParser(code),exportDebug)}function pascalCompiler(code,exportDebug=!1){return generateOpcodesFromIR(pascalParser(code),exportDebug)}class KarelRuntimeEvent extends Event{constructor(type,runtime,details){super(type),this.details=details,this.runtime=runtime}}class KarelRuntimeEventTarget{constructor(){this.listeners={}}addEventListener(type,callback){this.listeners.hasOwnProperty(type)||(this.listeners[type]=[]),this.listeners[type].push(callback)}dispatchEvent(event){if(!this.listeners.hasOwnProperty(event.type))return!1;for(const listener of this.listeners[event.type])listener(event);return!0}removeEventListener(type,callback){if(!this.listeners.hasOwnProperty(type))return;const index=this.listeners[type].indexOf(callback);-1!==index&&(this.listeners[type]=this.listeners[type].splice(index,1))}fireEvent(type,runtime,data){const evt=new KarelRuntimeEvent(type,runtime,data);this.dispatchEvent(evt)}}var OpCodeID,ErrorType,RuntimeErrorCodes,DumpTypes,ERROR_MAPPING;!function(OpCodeID){OpCodeID[OpCodeID.HALT=0]="HALT",OpCodeID[OpCodeID.LINE=1]="LINE",OpCodeID[OpCodeID.LEFT=2]="LEFT",OpCodeID[OpCodeID.WORLDWALLS=3]="WORLDWALLS",OpCodeID[OpCodeID.ORIENTATION=4]="ORIENTATION",OpCodeID[OpCodeID.ROTL=5]="ROTL",OpCodeID[OpCodeID.ROTR=6]="ROTR",OpCodeID[OpCodeID.MASK=7]="MASK",OpCodeID[OpCodeID.NOT=8]="NOT",OpCodeID[OpCodeID.AND=9]="AND",OpCodeID[OpCodeID.OR=10]="OR",OpCodeID[OpCodeID.EQ=11]="EQ",OpCodeID[OpCodeID.EZ=12]="EZ",OpCodeID[OpCodeID.JZ=13]="JZ",OpCodeID[OpCodeID.JMP=14]="JMP",OpCodeID[OpCodeID.FORWARD=15]="FORWARD",OpCodeID[OpCodeID.WORLDBUZZERS=16]="WORLDBUZZERS",OpCodeID[OpCodeID.BAGBUZZERS=17]="BAGBUZZERS",OpCodeID[OpCodeID.PICKBUZZER=18]="PICKBUZZER",OpCodeID[OpCodeID.LEAVEBUZZER=19]="LEAVEBUZZER",OpCodeID[OpCodeID.LOAD=20]="LOAD",OpCodeID[OpCodeID.POP=21]="POP",OpCodeID[OpCodeID.DUP=22]="DUP",OpCodeID[OpCodeID.DEC=23]="DEC",OpCodeID[OpCodeID.INC=24]="INC",OpCodeID[OpCodeID.CALL=25]="CALL",OpCodeID[OpCodeID.RET=26]="RET",OpCodeID[OpCodeID.PARAM=27]="PARAM",OpCodeID[OpCodeID.SRET=28]="SRET",OpCodeID[OpCodeID.LRET=29]="LRET",OpCodeID[OpCodeID.LT=30]="LT",OpCodeID[OpCodeID.LTE=31]="LTE",OpCodeID[OpCodeID.COLUMN=32]="COLUMN",OpCodeID[OpCodeID.ROW=33]="ROW"}(OpCodeID||(OpCodeID={})),function(ErrorType){ErrorType.INSTRUCTION="INSTRUCTION",ErrorType.INSTRUCTION_LEFT="INSTRUCTION_LEFT",ErrorType.INSTRUCTION_FORWARD="INSTRUCTION_FORWARD",ErrorType.INSTRUCTION_PICKBUZZER="INSTRUCTION_PICKBUZZER",ErrorType.INSTRUCTION_LEAVEBUZZER="INSTRUCTION_LEAVEBUZZER",ErrorType.STACK="STACK",ErrorType.WALL="WALL",ErrorType.WORLDUNDERFLOW="WORLDUNDERFLOW",ErrorType.WORLDOVERFLOW="WORLDOVERFLOW",ErrorType.BAGUNDERFLOW="BAGUNDERFLOW",ErrorType.BAGOVERFLOW="BAGOVERFLOW",ErrorType.INVALIDOPCODE="INVALIDOPCODE",ErrorType.STACKMEMORY="STACKMEMORY",ErrorType.CALLSIZE="CALLSIZE",ErrorType.INTEGEROVERFLOW="INTEGEROVERFLOW",ErrorType.INTEGERUNDERFLOW="INTEGERUNDERFLOW"}(ErrorType||(ErrorType={})),function(RuntimeErrorCodes){RuntimeErrorCodes[RuntimeErrorCodes.WALL=16]="WALL",RuntimeErrorCodes[RuntimeErrorCodes.WORLDUNDERFLOW=17]="WORLDUNDERFLOW",RuntimeErrorCodes[RuntimeErrorCodes.BAGUNDERFLOW=18]="BAGUNDERFLOW",RuntimeErrorCodes[RuntimeErrorCodes.STACK=19]="STACK",RuntimeErrorCodes[RuntimeErrorCodes.STACKMEMORY=20]="STACKMEMORY",RuntimeErrorCodes[RuntimeErrorCodes.CALLSIZE=21]="CALLSIZE",RuntimeErrorCodes[RuntimeErrorCodes.INTEGEROVERFLOW=22]="INTEGEROVERFLOW",RuntimeErrorCodes[RuntimeErrorCodes.INTEGERUNDERFLOW=23]="INTEGERUNDERFLOW",RuntimeErrorCodes[RuntimeErrorCodes.WORLDOVERFLOW=24]="WORLDOVERFLOW",RuntimeErrorCodes[RuntimeErrorCodes.BAGOVERFLOW=25]="BAGOVERFLOW",RuntimeErrorCodes[RuntimeErrorCodes.INSTRUCTION=48]="INSTRUCTION",RuntimeErrorCodes[RuntimeErrorCodes.INSTRUCTION_LEFT=49]="INSTRUCTION_LEFT",RuntimeErrorCodes[RuntimeErrorCodes.INSTRUCTION_FORWARD=50]="INSTRUCTION_FORWARD",RuntimeErrorCodes[RuntimeErrorCodes.INSTRUCTION_PICKBUZZER=51]="INSTRUCTION_PICKBUZZER",RuntimeErrorCodes[RuntimeErrorCodes.INSTRUCTION_LEAVEBUZZER=52]="INSTRUCTION_LEAVEBUZZER",RuntimeErrorCodes[RuntimeErrorCodes.INVALIDOPCODE=-1]="INVALIDOPCODE"}(RuntimeErrorCodes||(RuntimeErrorCodes={}));class Runtime{constructor(world){this._world=world,this.debug=!1,this.disableStackEvents=!1,this._eventController=new KarelRuntimeEventTarget,this.load([["HALT"]])}get world(){return this._world}get state(){return this._state}get eventController(){return this._eventController}load(opcodes){let error_mapping=["WALL","WORLDUNDERFLOW","BAGUNDERFLOW","INSTRUCTION"];this._rawOpcodes=opcodes;let function_map={};this._functionNames=[];let function_idx=0;this._program=new Int32Array(new ArrayBuffer(3*opcodes.length*4));for(let i=0;i<opcodes.length;i++){const currentOpcode=opcodes[i];if(this._program[3*i]=(literal=currentOpcode[0])in OpCodeID?OpCodeID[literal]:-1,currentOpcode.length>1&&(this._program[3*i+1]=currentOpcode[1]),"LINE"==currentOpcode[0]&&(this._program[3*i+2]=currentOpcode[2]),"CALL"==currentOpcode[0])function_map.hasOwnProperty(currentOpcode[2])||(function_map[currentOpcode[2]]=function_idx,this._functionNames[function_idx++]=currentOpcode[2]),this._program[3*i+2]=function_map[currentOpcode[2]];else if("EZ"==currentOpcode[0]&&(this._program[3*i+1]=error_mapping.indexOf(currentOpcode[1]),-1==this._program[3*i+1]))throw new Error("Invalid error: "+currentOpcode[1])}var literal;this.reset()}_start(){this._state.clean=!1,this._eventController.fireEvent("start",this,{type:"start",target:this,world:this._world})}reset(){this._state={pc:0,sp:-1,fp:-1,line:-1,column:-1,ic:0,ret:0,stack:new Int32Array(new ArrayBuffer(4194400)),stackSize:0,stackMemory:0,moveCount:0,turnLeftCount:0,pickBuzzerCount:0,leaveBuzzerCount:0,jumped:!1,running:!0,clean:!0},this.debug&&this._eventController.fireEvent("debug",this,{type:"debug",target:this,message:JSON.stringify(this._rawOpcodes),debugType:"program"})}step(){for(;this._state.running;)try{if(this._program[3*this._state.pc]==OpCodeID.LINE){this.next();break}this.next()}finally{this._state.running||this._eventController.fireEvent("stop",this,{type:"stop",target:this,world:this._world})}return this._state.running}next(){if(this._state.clean&&this._start(),!this._state.running)return;let rot,world=this._world;if(this._state.ic>=world.maxInstructions)return this._state.running=!1,this._state.error=ErrorType.INSTRUCTION,!1;if(this._state.stackSize>=this._world.maxStackSize)return this._state.running=!1,this._state.error=ErrorType.STACK,!1;let paramCount,newSP,op1,op2,fname,params,line,fromFName,npc,tmp,di=[0,1,0,-1],dj=[-1,0,1,0];try{switch(this.debug&&this._eventController.fireEvent("debug",this,{type:"debug",target:this,message:JSON.stringify(this._program[3*this._state.pc]+" "+this._rawOpcodes[this._state.pc]),debugType:"opcode"}),this._program[3*this._state.pc]){case OpCodeID.HALT:this._state.running=!1;break;case OpCodeID.LINE:this._state.line=this._program[3*this._state.pc+1],this._state.column=this._program[3*this._state.pc+2];break;case OpCodeID.LEFT:this._state.ic++,this._world.orientation--,this._world.orientation<0&&(this._world.orientation=3),this._world.dirty=!0,this._state.turnLeftCount++,this._world.maxTurnLeft>=0&&this._state.turnLeftCount>this._world.maxTurnLeft&&(this._state.running=!1,this._state.error=ErrorType.INSTRUCTION_LEFT,this._state.errorData={type:ErrorType.INSTRUCTION,instruction:"LEFT"});break;case OpCodeID.WORLDWALLS:this._state.stack[++this._state.sp]=world.walls(world.i,world.j);break;case OpCodeID.ORIENTATION:this._state.stack[++this._state.sp]=world.orientation;break;case OpCodeID.ROTL:rot=this._state.stack[this._state.sp]-1,rot<0&&(rot=3),this._state.stack[this._state.sp]=rot;break;case OpCodeID.ROTR:rot=this._state.stack[this._state.sp]+1,rot>3&&(rot=0),this._state.stack[this._state.sp]=rot;break;case OpCodeID.MASK:this._state.stack[this._state.sp]=1<<this._state.stack[this._state.sp];break;case OpCodeID.NOT:this._state.stack[this._state.sp]=0===this._state.stack[this._state.sp]?1:0;break;case OpCodeID.AND:op2=this._state.stack[this._state.sp--],op1=this._state.stack[this._state.sp--],this._state.stack[++this._state.sp]=op1&op2?1:0;break;case OpCodeID.OR:op2=this._state.stack[this._state.sp--],op1=this._state.stack[this._state.sp--],this._state.stack[++this._state.sp]=op1|op2?1:0;break;case OpCodeID.EQ:op2=this._state.stack[this._state.sp--],op1=this._state.stack[this._state.sp--],KarelNumbers.isInfinite(op1)?this._state.stack[++this._state.sp]=KarelNumbers.isInfinite(op2)?1:0:KarelNumbers.isInfinite(op2)?this._state.stack[++this._state.sp]=0:this._state.stack[++this._state.sp]=op1==op2?1:0;break;case OpCodeID.EZ:0===this._state.stack[this._state.sp--]&&(this._state.error=[ErrorType.WALL,ErrorType.WORLDUNDERFLOW,ErrorType.BAGUNDERFLOW][this._program[3*this._state.pc+1]],this._state.running=!1);break;case OpCodeID.JZ:this._state.ic++,0===this._state.stack[this._state.sp--]&&(this._state.pc+=this._program[3*this._state.pc+1]);break;case OpCodeID.JMP:this._state.ic++,this._state.pc+=this._program[3*this._state.pc+1];break;case OpCodeID.FORWARD:this._state.ic++,this._world.i+=di[this._world.orientation],this._world.j+=dj[this._world.orientation],this._world.dirty=!0,this._state.moveCount++,this._world.maxMove>=0&&this._state.moveCount>this._world.maxMove&&(this._state.running=!1,this._state.error=ErrorType.INSTRUCTION_FORWARD,this._state.errorData={type:ErrorType.INSTRUCTION,instruction:"FORWARD"});break;case OpCodeID.WORLDBUZZERS:this._state.stack[++this._state.sp]=this._world.buzzers(world.i,world.j);break;case OpCodeID.BAGBUZZERS:this._state.stack[++this._state.sp]=this._world.bagBuzzers;break;case OpCodeID.PICKBUZZER:this._state.ic++,tmp=this._world.bagBuzzers,this._world.pickBuzzer(this._world.i,this._world.j),KarelNumbers.isInfinite(tmp)||this._world.bagBuzzers>KarelNumbers.maximum&&(this._state.running=!1,this._state.error=ErrorType.BAGOVERFLOW),this._state.pickBuzzerCount++,this._world.maxPickBuzzer>=0&&this._state.pickBuzzerCount>this._world.maxPickBuzzer&&this._state.running&&(this._state.running=!1,this._state.error=ErrorType.INSTRUCTION_PICKBUZZER,this._state.errorData={type:ErrorType.INSTRUCTION,instruction:"PICKBUZZER"});break;case OpCodeID.LEAVEBUZZER:this._state.ic++,tmp=this._world.buzzers(this._world.i,this._world.j),this._world.leaveBuzzer(this._world.i,this._world.j),KarelNumbers.isInfinite(tmp)||this._world.buzzers(this._world.i,this._world.j)>KarelNumbers.maximum&&(this._state.running=!1,this._state.error=ErrorType.WORLDOVERFLOW),this._state.leaveBuzzerCount++,this._world.maxLeaveBuzzer>=0&&this._state.leaveBuzzerCount>this._world.maxLeaveBuzzer&&this._state.running&&(this._state.running=!1,this._state.error=ErrorType.INSTRUCTION_LEAVEBUZZER,this._state.errorData={type:ErrorType.INSTRUCTION,instruction:"LEAVEBUZZER"});break;case OpCodeID.LOAD:this._state.stack[++this._state.sp]=this._program[3*this._state.pc+1];break;case OpCodeID.POP:this._state.sp--;break;case OpCodeID.DUP:this._state.stack[++this._state.sp]=this._state.stack[this._state.sp-1];break;case OpCodeID.DEC:KarelNumbers.isInfinite(this._state.stack[this._state.sp])||(this._state.stack[this._state.sp]-=this._program[3*this._state.pc+1],this.validateNumber(this._state.stack[this._state.sp]));break;case OpCodeID.INC:KarelNumbers.isInfinite(this._state.stack[this._state.sp])||(this._state.stack[this._state.sp]+=this._program[3*this._state.pc+1],this.validateNumber(this._state.stack[this._state.sp]));break;case OpCodeID.CALL:this._state.ic++,paramCount=this._state.stack[this._state.sp--],newSP=this._state.sp-paramCount,fname=this._functionNames[this._program[3*this._state.pc+2]],this._state.stack[++this._state.sp]=this._state.fp,this._state.stack[++this._state.sp]=newSP,this._state.stack[++this._state.sp]=this._state.pc,this._state.stack[++this._state.sp]=paramCount,this._state.fp=newSP+1+paramCount,this._state.pc=this._program[3*this._state.pc+1],this._state.jumped=!0,this._state.stackSize++,this._state.stackMemory+=Math.max(1,paramCount),this._state.stackSize>=this._world.maxStackSize?(this._state.running=!1,this._state.error=ErrorType.STACK):this._state.stackMemory>=this._world.maxStackMemory?(this._state.running=!1,this._state.error=ErrorType.STACKMEMORY):paramCount>this._world.maxCallSize?(this._state.running=!1,this._state.error=ErrorType.CALLSIZE):this.disableStackEvents||this._eventController.fireEvent("call",this,{type:"call",function:fname,params:this._state.stack.subarray(this._state.fp-paramCount,this._state.fp),line:this._state.line,target:this});break;case OpCodeID.RET:if(this._state.fp<0){this._state.running=!1;break}paramCount=this._state.stack[this._state.fp+3],this._state.pc=this._state.stack[this._state.fp+2],this._state.sp=this._state.stack[this._state.fp+1],this._state.fp=this._state.stack[this._state.fp],this._state.stackSize--,this._state.stackMemory-=Math.max(1,paramCount),this.disableStackEvents||(params=this._state.stack.subarray(0,0),fromFName=this._functionNames[this._program[3*this._state.pc+2]],fname="N/A",line=-2,this._state.stackSize>=1&&(npc=this._state.stack[this._state.fp+2],fname=this._functionNames[this._program[3*npc+2]],line=this._program[3*(npc+1)+1],paramCount=this._state.stack[this._state.fp+3],params=this._state.stack.subarray(this._state.fp-paramCount,this._state.fp)),this._eventController.fireEvent("return",this,{type:"return",target:this,params:params,function:fname,fromFunction:fromFName,line:line,returnValue:this._state.ret}));break;case OpCodeID.PARAM:this._state.stack[++this._state.sp]=this._state.stack[this._state.fp-1-this._program[3*this._state.pc+1]];break;case OpCodeID.SRET:this._state.ret=this._state.stack[this._state.sp--];break;case OpCodeID.LRET:this._state.stack[++this._state.sp]=this._state.ret;break;case OpCodeID.LT:op2=this._state.stack[this._state.sp--],op1=this._state.stack[this._state.sp--],KarelNumbers.isInfinite(op1)?this._state.stack[++this._state.sp]=0:KarelNumbers.isInfinite(op2)?this._state.stack[++this._state.sp]=1:this._state.stack[++this._state.sp]=op1<op2?1:0;break;case OpCodeID.LTE:op2=this._state.stack[this._state.sp--],op1=this._state.stack[this._state.sp--],KarelNumbers.isInfinite(op1)?this._state.stack[++this._state.sp]=KarelNumbers.isInfinite(op2)?1:0:KarelNumbers.isInfinite(op2)?this._state.stack[++this._state.sp]=1:this._state.stack[++this._state.sp]=op1<=op2?1:0;break;case OpCodeID.ROW:this._state.stack[++this._state.sp]=this._world.i;break;case OpCodeID.COLUMN:this._state.stack[++this._state.sp]=this._world.j;break;default:return this._state.running=!1,this.debug&&this._eventController.fireEvent("debug",this,{type:"debug",target:this,message:"Missing opcode "+this._rawOpcodes[this._state.pc][0],debugType:"opcode"}),this._state.error=ErrorType.INVALIDOPCODE,this._state.errorData={type:ErrorType.INSTRUCTION,instruction:OpCodeID[this._program[3*this._state.pc]]},!1}if(this._state.jumped?this._state.jumped=!1:this._state.pc++,this.debug){let copy={pc:this._state.pc,stackSize:this._state.stackSize,expressionStack:Array.from(this._state.stack.slice(this._state.fp+4,this._state.sp+1)),line:this._state.line,ic:this._state.ic,running:this._state.running};this._eventController.fireEvent("debug",this,{type:"debug",target:this,message:JSON.stringify(copy),debugType:"state"})}}catch(e){throw this._state.running=!1,console.error(e),console.log(e.stack),e}return!0}validateNumber(number){return number<KarelNumbers.minimum?(this._state.running=!1,void(this._state.error=ErrorType.INTEGERUNDERFLOW)):number>KarelNumbers.maximum?(this._state.running=!1,void(this._state.error=ErrorType.INTEGEROVERFLOW)):void 0}}!function(DumpTypes){DumpTypes.DUMP_WORLD="mundo",DumpTypes.DUMP_POSITION="posicion",DumpTypes.DUMP_ORIENTATION="orientacion",DumpTypes.DUMP_INSTRUCTIONS="instrucciones",DumpTypes.DUMP_ALL_BUZZERS="universo",DumpTypes.DUMP_BAG="mochila",DumpTypes.DUMP_MOVE="avanza",DumpTypes.DUMP_LEFT="gira_izquierda",DumpTypes.DUMP_PICK_BUZZER="coge_zumbador",DumpTypes.DUMP_LEAVE_BUZZER="deja_zumbador"}(DumpTypes||(DumpTypes={})),function(ERROR_MAPPING){ERROR_MAPPING.BAGUNDERFLOW="ZUMBADOR INVALIDO MOCHILA",ERROR_MAPPING.BAGOVERFLOW="DEMASIADOS ZUMBADORES (MOCHILA)",ERROR_MAPPING.WALL="MOVIMIENTO INVALIDO",ERROR_MAPPING.WORLDUNDERFLOW="ZUMBADOR INVALIDO MUNDO",ERROR_MAPPING.WORLDOVERFLOW="DEMASIADOS ZUMBADORES (MUNDO)",ERROR_MAPPING.STACK="STACK OVERFLOW",ERROR_MAPPING.INTEGEROVERFLOW="INTEGER OVERFLOW",ERROR_MAPPING.INTEGERUNDERFLOW="INTEGER UNDERFLOW",ERROR_MAPPING.INSTRUCTION="LIMITE DE INSTRUCCIONES GENERAL",ERROR_MAPPING.INSTRUCTION_LEFT="LIMITE DE INSTRUCCIONES IZQUIERDA",ERROR_MAPPING.INSTRUCTION_FORWARD="LIMITE DE INSTRUCCIONES AVANZA",ERROR_MAPPING.INSTRUCTION_PICKBUZZER="LIMITE DE INSTRUCCIONES COGE_ZUMBADOR",ERROR_MAPPING.INSTRUCTION_LEAVEBUZZER="LIMITE DE INSTRUCCIONES DEJA_ZUMBADOR",ERROR_MAPPING.STACKMEMORY="LIMITE DE MEMORIA DEL STACK",ERROR_MAPPING.CALLSIZE="LIMITE DE LONGITUD DE LLAMADA"}(ERROR_MAPPING||(ERROR_MAPPING={}));class World{constructor(w,h){this.init(w,h)}get h(){return this._h}get w(){return this._w}get runtime(){return this._runtime}get maxInstructions(){return this._maxInstructions}set maxInstructions(value){if(!this._runtime.state.clean)throw new Error("Cannot modify maxInstructions once the runtime has stepped, consider resetting the runtime");this._maxInstructions=value}get maxMove(){return this._maxMove}set maxMove(value){if(!this._runtime.state.clean)throw new Error("Cannot modify maxMove once the runtime has stepped, consider resetting the runtime");this._maxMove=value}get maxTurnLeft(){return this._maxTurnLeft}set maxTurnLeft(value){if(!this._runtime.state.clean)throw new Error("Cannot modify maxTurnLeft once the runtime has stepped, consider resetting the runtime");this._maxTurnLeft=value}get maxPickBuzzer(){return this._maxPickBuzzer}set maxPickBuzzer(value){if(!this._runtime.state.clean)throw new Error("Cannot modify maxPickBuzzer once the runtime has stepped, consider resetting the runtime");this._maxPickBuzzer=value}get maxLeaveBuzzer(){return this._maxLeaveBuzzer}set maxLeaveBuzzer(value){if(!this._runtime.state.clean)throw new Error("Cannot modify maxLeaveBuzzer once the runtime has stepped, consider resetting the runtime");this._maxLeaveBuzzer=value}get maxStackSize(){return this._maxStackSize}set maxStackSize(value){if(!this._runtime.state.clean)throw new Error("Cannot modify maxStackSize once the runtime has stepped, consider resetting the runtime");this._maxStackSize=value}get maxStackMemory(){return this._maxStackMemory}set maxStackMemory(value){if(!this._runtime.state.clean)throw new Error("Cannot modify maxStackMemory once the runtime has stepped, consider resetting the runtime");this._maxStackMemory=value}get maxCallSize(){return this._maxCallSize}set maxCallSize(value){if(!this._runtime.state.clean)throw new Error("Cannot modify maxCallSize once the runtime has stepped, consider resetting the runtime");this._maxCallSize=value}init(w,h){this._w=w,this._h=h,this._runtime=new Runtime(this),this._createMaps(),this.clear()}_createMaps(){if(ArrayBuffer){let len=(this._w+2)*(this._h+2);this._map=new Int32Array(new ArrayBuffer(4*len)),this._currentMap=new Int32Array(new ArrayBuffer(4*len)),this._wallMap=new Uint8Array(new ArrayBuffer(len))}else{this._map=[],this._currentMap=[],this._wallMap=[];for(let i=0;i<=this._h;i++)for(let j=0;j<=this._w;j++)this._map.push(0),this._currentMap.push(0),this._wallMap.push(0)}}resize(w,h){for(let i=1;i<=this._h;i++)this._wallMap[this._w*i+1]&=-2,this._wallMap[this._w*(i+1)]&=-5;for(let j=1;j<=this._w;j++)this._wallMap[this._w*this._h+j]&=-3,this._wallMap[this._w+j]&=-9;let oldW=this._w,oldH=this._h,oldMap=this._map,oldWallMap=this._wallMap,oldDumpCells=this._dumpCells;this._w=w,this._h=h,this._createMaps(),this.addBorderWalls();for(let i=1;i<=oldH;i++)for(let j=1;j<=oldW;j++)this.setCellWalls(i,j,oldWallMap[oldW*i+j]),this.setBuzzers(i,j,oldMap[oldW*i+j]);this._dumpCells=new Set;let di=0,dj=0;for(const oldDump of oldDumpCells)di=Math.floor(oldDump/(oldW+1)),dj=oldDump%(oldW+1),di<=this._h&&dj<=this._w&&this.setDumpCell(di,dj,!0);this.start_i>this._h&&(this.start_i=this.i=this._h),this.start_j>this._w&&(this.start_j=this.j=this._w),this.dirty=!0}clear(){for(let i=0;i<this._wallMap.length;i++)this._wallMap[i]=0;for(let i=0;i<this._map.length;i++)this._map[i]=this._currentMap[i]=0;this.addBorderWalls(),this.orientation=1,this.startOrientation=1,this.start_i=1,this.i=1,this.start_j=1,this.j=1,this.startBagBuzzers=0,this.bagBuzzers=0,this._dumps={},this._dumpCells=new Set,this._maxInstructions=1e7,this._maxMove=-1,this._maxTurnLeft=-1,this._maxPickBuzzer=-1,this._maxLeaveBuzzer=-1,this._maxStackSize=65e3,this._maxStackMemory=65e3,this._maxCallSize=5,this.worldName="mundo_0",this.programName="p1",this.targetVersion="1.1",this.dirty=!0}walls(i,j){return 0>i||i>this._h||0>j||j>this._w?0:this._wallMap[this._w*i+j]}setWallMask(i,j,wallMask){let newMask=wallMask;wallMask<0||wallMask>=16||1>i||i>this.h||1>j||j>this.w||(1==j&&(newMask|=1),1==i&&(newMask|=8),i==this.h&&(newMask|=2),j==this.w&&(newMask|=4),this._wallMap[this.w*i+j]=newMask)}toggleWall(i,j,orientation){1==j&&0===orientation||1==i&&3==orientation||i==this._h&&1==orientation||j==this._w&&2==orientation||orientation<0||orientation>=4||1>i||i>this._h||1>j||j>this._w||(this._wallMap[this._w*i+j]^=1<<orientation,0===orientation&&j>1?this._wallMap[this._w*i+(j-1)]^=4:1===orientation&&i<this._h?this._wallMap[this._w*(i+1)+j]^=8:2===orientation&&j<this._w?this._wallMap[this._w*i+(j+1)]^=1:3===orientation&&i>1&&(this._wallMap[this._w*(i-1)+j]^=2),this.dirty=!0)}addBorderWalls(){for(let i=1;i<=this._h;i++)this.addWall(i,1,0),this.addWall(i,this._w,2);for(let j=1;j<=this._w;j++)this.addWall(this._h,j,1),this.addWall(1,j,3)}setCellWalls(i,j,wallMask){for(let pos=0;pos<4;pos++)wallMask&1<<pos&&this.addWall(i,j,pos)}addWall(i,j,orientation){orientation<0||orientation>=4||1>i||i>this._h||1>j||j>this._w||(this._wallMap[this._w*i+j]|=1<<orientation,0===orientation&&j>1?this._wallMap[this._w*i+(j-1)]|=4:1===orientation&&i<this._h?this._wallMap[this._w*(i+1)+j]|=8:2===orientation&&j<this._w?this._wallMap[this._w*i+(j+1)]|=1:3===orientation&&i>1&&(this._wallMap[this._w*(i-1)+j]|=2),this.dirty=!0)}setBuzzers(i,j,count){0>=i||i>this._h||0>=j||j>this._w||(this._map[this._w*i+j]=this._currentMap[this._w*i+j]=count>KarelNumbers.maximum?KarelNumbers.a_infinite:count,this.dirty=!0)}buzzers(i,j){return 0>=i||i>this._h||0>=j||j>this._w?0:this._currentMap[this._w*i+j]}startBuzzers(i,j){return 0>=i||i>this._h||0>=j||j>this._w?0:this._map[this._w*i+j]}pickBuzzer(i,j){0>=i||i>this._h||0>=j||j>this._w||(KarelNumbers.isInfinite(this._currentMap[this._w*i+j])||this._currentMap[this._w*i+j]--,KarelNumbers.isInfinite(this.bagBuzzers)||this.bagBuzzers++,this.dirty=!0)}leaveBuzzer(i,j){0>=i||i>this._h||0>=j||j>this._w||(KarelNumbers.isInfinite(this._currentMap[this._w*i+j])||this._currentMap[this._w*i+j]++,KarelNumbers.isInfinite(this.bagBuzzers)||this.bagBuzzers--,this.dirty=!0)}setDumpCell(i,j,dumpState){if(0>=i||i>this._h||0>=j||j>this._w)return;let pos=i*(this._w+1)+j;dumpState?this._dumpCells.add(pos):this._dumpCells.delete(pos),this._dumps[DumpTypes.DUMP_WORLD]=0!==this._dumpCells.size}toggleDumpCell(i,j){if(0>=i||i>this._h||0>=j||j>this._w)return;let pos=i*(this._w+1)+j;this._dumpCells.has(pos)?this._dumpCells.delete(pos):this._dumpCells.add(pos),this._dumps[DumpTypes.DUMP_WORLD]=0!==this._dumpCells.size}getDumpCell(i,j){if(i<=0||j<=0||i>this._h||j>this._w)return!1;let dumpPos=i*(this._w+1)+j;return this._dumpCells.has(dumpPos)}getDumpCellCount(){return this._dumpCells.size}getDumps(dumpFlag){return this._dumps.hasOwnProperty(dumpFlag.toLowerCase())&&this._dumps[dumpFlag]}setDumps(dumpFlag,flagValue){this._dumps[dumpFlag]=flagValue}toggleDumps(dumpFlag){this.setDumps(dumpFlag,!this.getDumps(dumpFlag))}load(doc){const self=this;self.clear();let rules={ejecucion:function(ejecucion){let version=ejecucion.getAttribute("version");null==version&&(version="1.0"),self.targetVersion=version},mundo:function(mundo){let alto=mundo.getAttribute("alto"),ancho=mundo.getAttribute("ancho");alto&&ancho&&(alto=parseInt(alto,10),ancho=parseInt(ancho,10),alto&&ancho&&self.resize(ancho,alto))},condiciones:function(condiciones){self._maxInstructions=parseInt(condiciones.getAttribute("instruccionesMaximasAEjecutar"),10)||1e7,self._maxStackSize=parseInt(condiciones.getAttribute("longitudStack"),10)||65e3,self._maxStackMemory=parseInt(condiciones.getAttribute("memoriaStack"),10)||65e3,self._maxCallSize=parseInt(condiciones.getAttribute("llamadaMaxima"),10)||5},comando:function(comando){let name=comando.getAttribute("nombre"),val=parseInt(comando.getAttribute("maximoNumeroDeEjecuciones"),10);name&&val&&("AVANZA"==name?self._maxMove=val:"GIRA_IZQUIERDA"==name?self._maxTurnLeft=val:"COGE_ZUMBADOR"==name?self._maxPickBuzzer=val:"DEJA_ZUMBADOR"==name&&(self._maxLeaveBuzzer=val))},monton:function(monton){let i=parseInt(monton.getAttribute("y"),10),j=parseInt(monton.getAttribute("x"),10),zumbadores=monton.getAttribute("zumbadores");"INFINITO"==zumbadores?zumbadores=KarelNumbers.a_infinite:(zumbadores=parseInt(zumbadores,10),isNaN(zumbadores)&&(zumbadores=0)),self.setBuzzers(i,j,zumbadores)},pared:function(pared){let i=parseInt(pared.getAttribute("y1"),10)+1,j=parseInt(pared.getAttribute("x1"),10)+1;if(pared.getAttribute("x2")){let j2=parseInt(pared.getAttribute("x2"),10)+1;j2>j?self.addWall(i,j,3):self.addWall(i,j2,3)}else if(pared.getAttribute("y2")){let i2=parseInt(pared.getAttribute("y2"),10)+1;i2>i?self.addWall(i,j,0):self.addWall(i2,j,0)}},despliega:function(despliega){self._dumps[despliega.getAttribute("tipo").toLowerCase()]=!0},posicionDump:function(dump){let i=parseInt(dump.getAttribute("y"),10),j=parseInt(dump.getAttribute("x"),10);i<=0||j<=0||i>self._h||j>self._w||self._dumpCells.add(i*(self._w+1)+j)},programa:function(programa){let xKarel=parseInt(programa.getAttribute("xKarel")||programa.getAttribute("xkarel"),10),yKarel=parseInt(programa.getAttribute("yKarel")||programa.getAttribute("ykarel"),10);self.rotate(programa.getAttribute("direccionKarel")||programa.getAttribute("direccionkarel")),self.worldName=programa.getAttribute("mundoDeEjecucion")||programa.getAttribute("mundodeejecucion"),self.programName=programa.getAttribute("nombre"),self.move(yKarel,xKarel);let bagBuzzers=programa.getAttribute("mochilaKarel")||programa.getAttribute("mochilakarel")||0;"INFINITO"==bagBuzzers?self.setBagBuzzers(KarelNumbers.a_infinite):self.setBagBuzzers(parseInt(bagBuzzers))}};!function traverse(node){let type=node.nodeName;rules.hasOwnProperty(type)&&rules[type](node);for(let i=0;i<node.childNodes.length;i++)node.childNodes.item(i).nodeType===(node.ELEMENT_NODE||Node.ELEMENT_NODE)&&traverse(node.childNodes.item(i))}(doc),self.reset()}serialize(node,name,indentation){let result="";for(let i=0;i<indentation;i++)result+="\t";if("string"==typeof node||"number"==typeof node)return result+node;if(Array.isArray(node)){result="";for(let i=0;i<node.length;i++)result+=this.serialize(node[i],name,indentation)}else{let childResult="";for(let p in node)if(node.hasOwnProperty(p)){if("#"==p[0])continue;childResult+=this.serialize(node[p],p,indentation+1)}if(result+="<"+name,node.hasOwnProperty("#attributes"))for(let p in node["#attributes"])node["#attributes"].hasOwnProperty(p)&&(result+=" "+p+'="'+node["#attributes"][p]+'"');if(node.hasOwnProperty("#text"))result+=">"+node["#text"]+"</"+name+">\n";else if(""==childResult)result+="/>\n";else{result+=">\n",result+=childResult;for(let i=0;i<indentation;i++)result+="\t";result+="</"+name+">\n"}}return result}save(targetState){let result={"#attributes":{version:this.targetVersion},condiciones:{"#attributes":{instruccionesMaximasAEjecutar:this._maxInstructions,longitudStack:this._maxStackSize,memoriaStack:this._maxStackMemory,llamadaMaxima:this._maxCallSize},comando:[]},mundos:{mundo:{"#attributes":{nombre:this.worldName,ancho:this._w,alto:this._h},monton:[],pared:[],posicionDump:[]}},programas:{"#attributes":{tipoEjecucion:"CONTINUA",intruccionesCambioContexto:1,milisegundosParaPasoAutomatico:0},programa:{"#attributes":{nombre:this.programName,ruta:"{$2$}",mundoDeEjecucion:this.worldName,xKarel:"start"===targetState?this.start_j:this.j,yKarel:"start"===targetState?this.start_i:this.i,direccionKarel:["OESTE","NORTE","ESTE","SUR"]["start"===targetState?this.startOrientation:this.orientation],mochilaKarel:KarelNumbers.isInfinite(this.bagBuzzers)?"INFINITO":"start"===targetState?this.startBagBuzzers:this.bagBuzzers},despliega:[]}}};for(let i=1;i<=this._h;i++)for(let j=1;j<=this._w;j++){let buzzers="start"===targetState?this.startBuzzers(i,j):this.buzzers(i,j);0!==buzzers&&result.mundos.mundo.monton.push({"#attributes":{x:j,y:i,zumbadores:KarelNumbers.isInfinite(buzzers)?"INFINITO":buzzers}})}-1!==this._maxMove&&result.condiciones.comando.push({"#attributes":{nombre:"AVANZA",maximoNumeroDeEjecuciones:this._maxMove}}),-1!==this._maxTurnLeft&&result.condiciones.comando.push({"#attributes":{nombre:"GIRA_IZQUIERDA",maximoNumeroDeEjecuciones:this._maxTurnLeft}}),-1!==this._maxLeaveBuzzer&&result.condiciones.comando.push({"#attributes":{nombre:"DEJA_ZUMBADOR",maximoNumeroDeEjecuciones:this._maxLeaveBuzzer}}),-1!==this._maxPickBuzzer&&result.condiciones.comando.push({"#attributes":{nombre:"COGE_ZUMBADOR",maximoNumeroDeEjecuciones:this._maxPickBuzzer}});for(let i=1;i<=this._h;i++)for(let j=1;j<=this._w;j++){let walls=this.walls(i,j);for(let k=2;k<8;k<<=1)i==this._h&&2==k||j==this._w&&4==k||(walls&k)==k&&(2==k?result.mundos.mundo.pared.push({"#attributes":{x1:j-1,y1:i,x2:j}}):4==k&&result.mundos.mundo.pared.push({"#attributes":{x1:j,y1:i-1,y2:i}}))}let di=0,dj=0;for(const dumpCell of this._dumpCells)di=Math.floor(dumpCell/(this._w+1)),dj=dumpCell%(this._w+1),result.mundos.mundo.posicionDump.push({"#attributes":{x:di,y:dj}});result.mundos.mundo.posicionDump.sort(((a,b)=>{const xDiff=a["#attributes"].x-b["#attributes"].x;return 0!==xDiff?xDiff:a["#attributes"].y-b["#attributes"].y}));const dumpKeys=Object.keys(this._dumps).sort();for(let p of dumpKeys)this._dumps.hasOwnProperty(p)&&this._dumps[p]&&result.programas.programa.despliega.push({"#attributes":{tipo:p.toUpperCase()}});return this.serialize(result,"ejecucion",0)}output(){let result={};if(this._dumps[DumpTypes.DUMP_WORLD]||this._dumps[DumpTypes.DUMP_ALL_BUZZERS]){result.mundos={mundo:{"#attributes":{nombre:this.worldName},linea:[]}};let dumpCells={},di=0,dj=0;for(const dumpCell of this._dumpCells)di=Math.floor(dumpCell/(this._w+1)),dj=dumpCell%(this._w+1),dumpCells.hasOwnProperty(di)||(dumpCells[di]={}),dumpCells[di][dj]=!0;for(let i=this._h;i>0;i--){let printCoordinate=!0,line="",beepers=0;for(let j=1;j<=this._w;j++)(dumpCells[i]&&dumpCells[i][j]||this._dumps[DumpTypes.DUMP_ALL_BUZZERS])&&(0!==this.buzzers(i,j)&&(printCoordinate&&(line+="("+j+") "),beepers=this.buzzers(i,j),beepers=KarelNumbers.isInfinite(beepers)?65535:beepers,"1.0"===this.targetVersion&&(beepers&=65535),line+=beepers+" "),printCoordinate=0==this.buzzers(i,j));""!==line&&result.mundos.mundo.linea.push({"#attributes":{fila:i,compresionDeCeros:"true"},"#text":line})}}return result.programas={programa:{"#attributes":{nombre:this.programName}}},result.programas.programa["#attributes"].resultadoEjecucion=this._errorMap(this._runtime.state.error),this._dumps[DumpTypes.DUMP_POSITION]&&(result.programas.programa.karel={"#attributes":{x:this.j,y:this.i}}),this._dumps[DumpTypes.DUMP_ORIENTATION]&&(result.programas.programa.karel=result.programas.programa.karel||{"#attributes":{}},result.programas.programa.karel["#attributes"].direccion=["OESTE","NORTE","ESTE","SUR"][this.orientation]),this._dumps[DumpTypes.DUMP_BAG]&&(result.programas.programa.karel=result.programas.programa.karel||{"#attributes":{}},result.programas.programa.karel["#attributes"].mochila=KarelNumbers.isInfinite(this.bagBuzzers)?"INFINITO":this.bagBuzzers),this._dumps[DumpTypes.DUMP_MOVE]&&(result.programas.programa.instrucciones=result.programas.programa.instrucciones||{"#attributes":{}},result.programas.programa.instrucciones["#attributes"].avanza=this._runtime.state.moveCount),this._dumps[DumpTypes.DUMP_LEFT]&&(result.programas.programa.instrucciones=result.programas.programa.instrucciones||{"#attributes":{}},result.programas.programa.instrucciones["#attributes"].gira_izquierda=this._runtime.state.turnLeftCount),this._dumps[DumpTypes.DUMP_PICK_BUZZER]&&(result.programas.programa.instrucciones=result.programas.programa.instrucciones||{"#attributes":{}},result.programas.programa.instrucciones["#attributes"].coge_zumbador=this._runtime.state.pickBuzzerCount),this._dumps[DumpTypes.DUMP_LEAVE_BUZZER]&&(result.programas.programa.instrucciones=result.programas.programa.instrucciones||{"#attributes":{}},result.programas.programa.instrucciones["#attributes"].deja_zumbador=this._runtime.state.leaveBuzzerCount),this.serialize(result,"resultados",0)}move(i,j){this.i=this.start_i=i,this.j=this.start_j=j,this.dirty=!0}rotate(orientation){let orientations=["OESTE","NORTE","ESTE","SUR"];orientation||(orientation=orientations[(this.orientation+3)%4]),this.orientation=this.startOrientation=Math.max(0,orientations.indexOf(orientation)),this.dirty=!0}setBagBuzzers(buzzers){isNaN(buzzers)&&(buzzers=0),this.bagBuzzers=this.startBagBuzzers=buzzers>KarelNumbers.maximum?KarelNumbers.a_infinite:buzzers,this.dirty=!0}reset(){this.orientation=this.startOrientation,this.move(this.start_i,this.start_j),this.bagBuzzers=this.startBagBuzzers;for(let i=0;i<this._currentMap.length;i++)this._currentMap[i]=this._map[i];this._runtime.reset(),this.dirty=!0}_errorMap(s){return s?ERROR_MAPPING.hasOwnProperty(s)?ERROR_MAPPING[s]:s:"FIN PROGRAMA"}}const ERRORCODES={WALL:"Karel ha chocado con un muro!",WORLDUNDERFLOW:"Karel intentó tomar zumbadores en una posición donde no había!",BAGUNDERFLOW:"Karel intentó dejar un zumbador pero su mochila estaba vacía!",INSTRUCTION:"Karel ha superado el límite de instrucciones!",STACK:"La pila de karel se ha desbordado!"};function removeWhitespaces(str){return str.replace(/\s+/g,"")}async function evaluateFiles(){if(!selectedDirectoryHandle)return void alert("Por favor, seleccione un directorio de casos primero.");const sourceText=document.getElementById("source").value;let program=null;try{program=function(code,exportDebug=!1){let lang=function(code){let rules=[/^\s+/,/^\/\/[^\n]*/,/^#[^\n]*/,/^(?:\/\*(?:[^*]|\*[^)])*\*\/)/,/^{[^}]*}/,/^\(\*([^*]|\*[^)])*\*\)/,/^[^a-zA-Z0-9_-]+/,/^[a-zA-Z0-9_-]+/],i=0;for(;i<code.length;)for(let j=0;j<rules.length;j++){let m=rules[j].exec(code.substring(i));if(null!==m){if(j==rules.length-1)return"class"==m[0]||"import"==m[0]?"java":"iniciar-programa"==m[0].toLowerCase()||"usa"==m[0].toLowerCase()?"pascal":"unknown";i+=m[0].length;break}}return"unknown"}(code),compiler=null;switch(lang){case"java":compiler=javaCompiler;break;case"pascal":compiler=pascalCompiler;break;default:let errorStatus={error:CompilationError.Errors.UNKNOWN_SYNTAX,line:0,loc:{first_column:0,first_line:1,last_column:0,last_line:1}},error=new Error("Unknown syntax, the start of the file must be either 'class' or 'iniciar-programa'");throw error.hash=errorStatus,error}return compiler(code,exportDebug)}(sourceText,!1)[0]}catch(e){return void alert("Error de compilación")}const result=document.getElementById("result");result.innerHTML="";try{async function iterateDirectory(directoryHandle){for await(const entry of directoryHandle.values())if("file"===entry.kind&&entry.name.endsWith(".in")){const outFileName=`${entry.name.slice(0,-3)}.out`,outFileHandle=await directoryHandle.getFileHandle(outFileName,{create:!1}).catch((()=>null));if(!outFileHandle){result.innerHTML+=`<p><b>${entry.name}<b/>: No hay .out</p>`;continue}const outFile=await outFileHandle.getFile(),outFileContent=await outFile.text(),file=await entry.getFile(),content=await file.text(),xml=(new DOMParser).parseFromString(content,"text/xml"),world=new World(1,1);world.load(xml);const runtime=world.runtime;for(runtime.load(program);runtime.step(););if(null!=runtime.state.error){const errorType=RuntimeErrorCodes[runtime.state.error]>=48?"Límite de instrucciones:":"Error de ejecución:";result.innerHTML+=`<p><b>${entry.name}</b>: <span class="text-danger">${errorType} ${error=runtime.state.error,"INSTRUCTION"===error?"Karel ha superado el límite de instrucciones!":"INSTRUCTION_LEFT"===error?"Karel ha superado el límite de gira izquierda (turnleft)!":"INSTRUCTION_FORWARD"===error?"Karel ha superado el límite de avanza (move)!":"INSTRUCTION_PICKBUZZER"===error?"Karel ha superado el límite de coge-zumbador (pickbeeper)!":"INSTRUCTION_LEAVEBUZZER"===error?"Karel ha superado el límite de deja-zumbador (putbeeper)!":"STACK"===error?"La pila de karel se ha desbordado!":"CALLMEMORY"===error?"Límite de parámetros superados.":"STACKMEMORY"===error?"El límite de memoria del stack a sido superado.<br>El costo de una función es igual al mayor entre uno y la cantidad de parámetros que usa.":"INTEGEROVERFLOW"===error?"Se superó el límite superior numérico de 999,999,999.":"INTEGERUNDERFLOW"===error?"Se superó el límite inferior numérico de -999,999,999.":"WORLDOVERFLOW"===error?"Se superó el límite de zumbadores en una casilla, no debe haber más de 999,999,999 zumbadores.":error in ERRORCODES?ERRORCODES[error]:`Karel tubo un error de ejecución desconocido: ${error}`}</span></p>`;continue}const finalState=world.output(),simple_output=removeWhitespaces(outFileContent),simple_final=removeWhitespaces(finalState);result.innerHTML+=simple_final===simple_output?`<p><b>${entry.name}</b>: <span class="text-success">Correcto</span></p>`:`<p><b>${entry.name}</b>: <span class="text-danger">Respuesta incorrecta</span></p>`}else if("directory"===entry.kind)continue;var error}await iterateDirectory(selectedDirectoryHandle)}catch(error){console.error("Error al abrir los casos:",error)}}document.getElementById("path-btn").addEventListener("click",(()=>{!async function(){try{selectedDirectoryHandle=await window.showDirectoryPicker(),document.getElementById("path").textContent=selectedDirectoryHandle.name}catch(error){console.error("Error selecting directory:",error)}}()})),document.getElementById("eval-btn").addEventListener("click",(()=>{null!=selectedDirectoryHandle?evaluateFiles().finally((()=>{document.getElementById("result").innerHTML+="<p><b>Termino</b></p>"})):alert("Fist select a file")}))}();
//# sourceMappingURL=index.js.map
